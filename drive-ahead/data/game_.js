var YaGames=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=58)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GAME_ROOT_ORIGIN=t.IS_FRAMED=t.IS_YANDEX_APP_ENABLED=t.IS_PROD=void 0;var r=function(e){return e&&e.__esModule?e:{default:e}}(n(8));var o=[/^yastatic\.net$/,/localhost/,/^l7test\./,/\.pr-test-\d\./],i=(t.IS_PROD=!function(e){return o.some(function(t){return t.test(e)})}(window.location.host),(0,r.default)(window.location)),a=(t.IS_YANDEX_APP_ENABLED="true"===i.yandexapp,t.IS_FRAMED="true"===i.framed),s=a&&i.origin||void 0;t.GAME_ROOT_ORIGIN=a?s:window.location.origin},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return r(e,null,[{key:"setup",value:function(){!function(){if(void 0!==window.Reflect&&void 0!==window.customElements&&!window.customElements.polyfillWrapFlushCallback){var e=HTMLElement,t=function(){return Reflect.construct(e,[],this.constructor)};window.HTMLElement=t,HTMLElement.prototype=e.prototype,HTMLElement.prototype.constructor=HTMLElement,Object.setPrototypeOf(HTMLElement,e)}}()}},{key:"Symbol",value:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e){return"function"==typeof Symbol?Symbol(e):e})}]),e}();t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.appendApplicationIdParam=function(e){var t={},n=u(),r=c();n&&(t["app-id"]=n);r&&(t["game-id"]=r);return(0,o.default)({url:e,params:t})},t.getAppId=u,t.getGameId=c,t.isDraft=function(){return"true"===(0,i.default)(location).draft},t.appendOriginParam=function(e){var t=new URL(e);return t.searchParams.append("origin",r.GAME_ROOT_ORIGIN),t.toString()},t.replaceSDKHost=function(e){var t=window.location.hostname;if(/\.yandex\.ru$/.test(t)){var n=new URL(e);n.hostname=t,e=n.toString()}return e},t.getParentTargetOrigin=function(){if(void 0===l){var e=new URL(window.location).hash,t=e.match(/[&#]origin=([^&]+)/);l=t?decodeURIComponent(t[1]):""}return l};var r=n(0),o=a(n(9)),i=a(n(8));function a(e){return e&&e.__esModule?e:{default:e}}var s=/^(?:https:\/\/app-([^.]+)\.games\.s3\.yandex\.net\/[^/]+\/[^/]+\/index\.html|https:\/\/games\.s3\.mdst\.yandex\.net\/([^/]+)\/[^/]+\/index\.html|https:\/\/(?:.+\.)*yandex\.ru\/games\/play\/([^/?&]+))/;function u(){var e=String(location).match(s);return e?e[1]||e[2]||e[3]:(0,i.default)(location)["app-id"]||""}function c(){return(0,i.default)(location)["game-id"]||""}var l=void 0},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{!r&&s.return&&s.return()}finally{if(o)throw i}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(33),a=n(2);var s=/^https?:\/\/(.+\.)*(yandex\.(?:ru|ua|by|kz|uz|com|com\.tr)|games\.s3\.yandex\.net)$/,u=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._promises=Object.create(null),this._listeners=Object.create(null),this._addEventListener(),this._startPromisesCleanup()}return o(e,[{key:"_addEventListener",value:function(){var e=this;window.addEventListener("message",function(t){t.isTrusted&&s.test(t.origin)&&("YandexGamesSDK"===(t.data||{}).source&&e._handleEvent(t))})}},{key:"_handleEvent",value:function(e){var t=this,n=e.data||{},r=n.type,o=n.action,a=n.messageId,s=n.originMessageId,u=n.payload,c=n.originPayload,l=n.data,d=n.error,f=n.errorJSON,p=this._promises[s];p&&(delete this._promises[s],void 0===d?p.resolve({type:r,action:o,originPayload:c,data:l}):p.reject((0,i.createErrorInstance)({error:d,errorJSON:f})));var h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n={type:e.type||r,action:e.action||o,originMessageId:a,originPayload:u,data:e.data||{}};!function(e,t){t.error&&(e.error=String(t.error.message)||null,e.errorJSON=JSON.stringify(t.error)||null)}(n,e),t.postToChild(n)};var _=this._listeners[r]||[],m=!0,v=!1,b=void 0;try{for(var y,g=_[Symbol.iterator]();!(m=(y=g.next()).done);m=!0){var w=y.value;try{w(e,h)}catch(e){console.error(e)}}}catch(e){v=!0,b=e}finally{try{!m&&g.return&&g.return()}finally{if(v)throw b}}}},{key:"on",value:function(e,t){if("string"==typeof e&&(e=[e]),!Array.isArray(e))throw new Error('Wrong argument "types"');var n=!0,r=!1,o=void 0;try{for(var i,a=e[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var s=i.value;s in this._listeners||(this._listeners[s]=[]),this._listeners[s].push(t)}}catch(e){r=!0,o=e}finally{try{!n&&a.return&&a.return()}finally{if(r)throw o}}}},{key:"postToParent",value:function(){var e=this._parentTarget;if(e){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return this._post.apply(this,[e,this._parentTargetOrigin].concat(n))}return Promise.reject(new Error("No parent to post message"))}},{key:"postToChild",value:function(){var e=this._childTarget;if(e){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return this._post.apply(this,[e,this._childTargetOrigin].concat(n))}return Promise.reject(new Error("No child to post message"))}},{key:"_post",value:function(e,t,n){var r=Date.now(),o=r+"-"+Math.random();n=Object.assign({},n,{source:"YandexGamesSDK",messageId:o});var i=null,a=null,s=new Promise(function(e,t){i=e,a=t});return this._promises[o]={promise:s,resolve:i,reject:a,time:r},e.postMessage(n,t),s}},{key:"_startPromisesCleanup",value:function(){var e=this;window.setInterval(function(){var t=Date.now(),n=!0,o=!1,i=void 0;try{for(var a,s=Object.entries(e._promises)[Symbol.iterator]();!(n=(a=s.next()).done);n=!0){var u=r(a.value,2),c=u[0],l=u[1];Math.abs(l.time-t)>18e4&&delete e._promises[c]}}catch(e){o=!0,i=e}finally{try{!n&&s.return&&s.return()}finally{if(o)throw i}}},9e4)}},{key:"_parentTarget",get:function(){return window.parent}},{key:"_parentTargetOrigin",get:function(){return(0,a.getParentTargetOrigin)()}},{key:"_gameFrame",get:function(){var e=document.getElementById("game-frame");return e||console.warn("No frame to post"),e}},{key:"_childTarget",get:function(){return this._gameFrame.contentWindow}},{key:"_childTargetOrigin",get:function(){return new URL(this._gameFrame.getAttribute("src")).origin}}]),e}());t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return e&&e.__esModule?e:{default:e}}(n(69));t.default={isMobile:function(){return r.default.mobile()},isTablet:function(){return r.default.tablet()},isDesktop:function(){return r.default.desktop()},type:r.default.type}},function(e,t){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},function(e,t,n){var r=n(35),o="object"==typeof self&&self&&self.Object===Object&&self,i=r||o||Function("return this")();e.exports=i},function(e,t){e.exports=function(e){return null!=e&&"object"==typeof e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{!r&&s.return&&s.return()}finally{if(o)throw i}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();t.default=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=Object.create(null);return[e.hash.replace(/^#/,""),e.search.replace(/^\?/,"")].join("&").split("&").forEach(function(e){var o=e.split("="),i=r(o,2),a=i[0],s=i[1];n[a]=t?decodeURIComponent(s):s}),n}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{!r&&s.return&&s.return()}finally{if(o)throw i}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();function o(e,t,n,o){return e.length>1&&e[1].length&&e[1].split("&").forEach(function(e){var n=e.split("="),o=r(n,2),i=o[0],a=o[1];t[i]||(t[i]=a)}),Object.keys(t).filter(function(e){return!o.includes(e)}).map(function(e){return e+"="+(n?encodeURIComponent(t[e]):t[e])}).join("&")}t.default=function(e){var t=e.url,n=e.params,r=void 0===n?{}:n,i=e.hash,a=void 0===i?{}:i,s=e.removed,u=void 0===s?[]:s,c=e.encoded,l=void 0===c||c;if(!t)throw new Error("addGetParams: function has no url");var d=t.split("#"),f=d[0].split("?"),p=o(f,r,l,u),h=o(d,a,l,u);p&&(p="?"+p);h&&(h="#"+h);return""+f[0]+p+h}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(62);t.default=r.default},function(e,t){var n=Array.isArray;e.exports=n},function(e,t,n){var r=n(25),o=n(75),i=n(76),a="[object Null]",s="[object Undefined]",u=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?s:a:u&&u in Object(e)?o(e):i(e)}},function(e,t,n){"use strict";function r(){return Boolean(window.yandex&&window.yandex.app)}Object.defineProperty(t,"__esModule",{value:!0}),t.isYandexSearchApp=function(){return!r()&&(-1!==navigator.userAgent.indexOf("YandexSearch/")||"undefined"!=typeof window&&window.YandexApplicationsAPIBackend)},t.isYandexBrowserApp=function(){return-1!==navigator.userAgent.indexOf("YaBrowser/")},t.isYandexApp=r},function(e,t,n){"use strict";function r(e){var t=e.code,n=e.message,o=e.fileName,i=e.lineNumber,a=new Error(n,o,i);return a.name="AuthError",a.code=t,Object.setPrototypeOf(a,Object.getPrototypeOf(this)),Error.captureStackTrace&&Error.captureStackTrace(a,r),a}Object.defineProperty(t,"__esModule",{value:!0}),r.prototype=Object.create(Error.prototype,{constructor:{value:Error,enumerable:!1,writable:!0,configurable:!0},toJSON:{value:function(){return{name:this.name,code:this.code,stack:this.stack,message:this.message}},enumerable:!1,writable:!0,configurable:!0}}),Object.setPrototypeOf(r,Error),t.default=r},function(e,t,n){"use strict";function r(e){var t=e.code,n=e.message,o=e.httpStatus,i=e.fileName,a=e.lineNumber,s=new Error(n,i,a);return s.name="PaymentsError",s.code=t,s.httpStatus=o,Object.setPrototypeOf(s,Object.getPrototypeOf(this)),Error.captureStackTrace&&Error.captureStackTrace(s,r),s}Object.defineProperty(t,"__esModule",{value:!0}),r.prototype=Object.create(Error.prototype,{constructor:{value:Error,enumerable:!1,writable:!0,configurable:!0},toJSON:{value:function(){return{name:this.name,code:this.code,httpStatus:this.httpStatus,stack:this.stack,message:this.message}},enumerable:!1,writable:!0,configurable:!0}}),Object.setPrototypeOf(r,Error),t.default=r},function(e,t,n){var r=n(26)(Object,"create");e.exports=r},function(e,t,n){var r=n(92),o=n(93),i=n(94),a=n(95),s=n(96);function u(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=o,u.prototype.get=i,u.prototype.has=a,u.prototype.set=s,e.exports=u},function(e,t,n){var r=n(19);e.exports=function(e,t){for(var n=e.length;n--;)if(r(e[n][0],t))return n;return-1}},function(e,t){e.exports=function(e,t){return e===t||e!=e&&t!=t}},function(e,t,n){var r=n(98);e.exports=function(e,t){var n=e.__data__;return r(t)?n["string"==typeof t?"string":"hash"]:n.map}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.showFullscreenAdvCallbackNames=["onClose","onOpen","onError","onOffline"],t.viewTypes={fullscreen:"fullscreen",desktop:"desktop"},t.defaultMinIntervalBetweenAds=18e4},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PASSPORT_HOST=void 0;var r=n(2),o=n(0);var i=new(function(e){return e&&e.__esModule?e:{default:e}}(n(168)).default)("yandexAuthResignFrame",(0,r.replaceSDKHost)("https://dex.ru/games/sdk/static/auth.html?origin="+encodeURIComponent(window.origin))),a=o.IS_PROD?"passport.dex.ru":"passport-test.dex.ru";t.PASSPORT_HOST=a,t.default={resignOnResponseIfNeeded:function(e){"need-reset"===(e.headers&&e.headers.get("X-Auth-Status"))&&this.resign()},resign:function(){o.IS_FRAMED?this._resignFramed():this._resignRoot()},_resignRoot:function(){i.onFrameLoad().then(function(e){e.contentWindow.postMessage({type:"update-auth"},window.location.origin)}).catch(console.error)},_resignFramed:function(){fetch("https://"+a+"/auth/update/",{credentials:"include",referrerPolicy:"no-referrer-when-downgrade"}).then(console.info).catch(console.error)}}},function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.addErrorPrefix=function(e,t){var n=e.message,r=void 0===n?"":n;return e.message=t+" "+r,e};var o="object"===("undefined"==typeof window?"undefined":r(window))&&-1!==String(window.location).indexOf("sdk-debug-mode=1");t.isOnDebugMode=o,t.getDebugLog=function(e){return("boolean"==typeof e?e:o)?function(){var e;(e=console).info.apply(e,arguments)}:function(){}},t.tryAddProtocolToUrl=function(e,t){return e.startsWith("//")&&(e=t+":"+e),e},t.prepareManifestTemplate=function(e,n){var r=n+"/build/pictures";return r=t.tryAddProtocolToUrl(r,"https"),e.commonFields.icons.forEach(function(e){e.src=r+"/"+e.name,delete e.name}),e}},function(e,t,n){var r=n(12),o=n(7),i="[object Symbol]";e.exports=function(e){return"symbol"==typeof e||o(e)&&r(e)==i}},function(e,t,n){var r=n(6).Symbol;e.exports=r},function(e,t,n){var r=n(83),o=n(87);e.exports=function(e,t){var n=o(e,t);return r(n)?n:void 0}},function(e,t,n){var r=n(12),o=n(5),i="[object AsyncFunction]",a="[object Function]",s="[object GeneratorFunction]",u="[object Proxy]";e.exports=function(e){if(!o(e))return!1;var t=r(e);return t==a||t==s||t==i||t==u}},function(e,t,n){var r=n(39);e.exports=function(e,t,n){"__proto__"==t&&r?r(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){var r=n(27),o=n(43);e.exports=function(e){return null!=e&&o(e.length)&&!r(e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.canOpenAdv=function(){if(!1===this.advSdkReady)return console.warn("Adv SDK is not loaded"),!1;if(!this.partnerId)return console.error("Trouble with showing adv: can not find partner id"),!1;var e=Date.now();if(e-this.lastShowTime<this.minIntervalBetweenAds)return console.warn("Warning: please, don't try to open advertising often than once per "+this.minIntervalBetweenAds+"ms"),!1;if(Math.abs(e-this.startTime)<this.advDelay)return!1;navigator.onLine||this.callbacks.onOffline();return navigator.onLine},t.bindModalEvents=function(){var e=this;this.advContainer.addEventListener("touchmove",h),this.advContainer.querySelector("."+this.cssClasses.modal__close).addEventListener("click",function(){s.onSkipAdv(),f.call(e,!0)})},t.showAdvContainer=function(){s.onShowAdvContainer(),this.advContainer.classList.add(this.cssClasses.modal_visible),this.isAdvContainerShown=!0,(this.viewType===r.viewTypes.fullscreen||(0,o.isYandexSearchApp)())&&d.call(this)},t.renderAdv=l,t.handleResize=function(){this.isAdvContainerShown&&d.call(this)},t.callOnAdvClose=p,t.onAdvSdkReady=function(){this.advSdkReady=!0,this.isAdvContainerShown&&l.call(this)};var r=n(21),o=n(13),i=n(51),a=function(e){return e&&e.__esModule?e:{default:e}}(n(10));var s={_showAdvContainer:null,_renderAdvStart:null,_renderAdvEnd:null,_skipAdv:null,onShowAdvContainer:function(){this.clear(),this._showAdvContainer=Date.now(),this._sendToMetrika("show",!0)},onRenderAdvStart:function(){this._renderAdvStart=Date.now()},onRenderAdvEnd:function(){this._renderAdvEnd=Date.now();var e=this._getTime(this._renderAdvEnd-this._showAdvContainer);e&&this._sendToMetrika("renderEnd",e)},onSkipAdv:function(){this._skipAdv=Date.now();var e=this._renderAdvEnd&&this._getTime(this._skipAdv-this._renderAdvEnd)||"noads";this._sendToMetrika("skip",e)},onNoContent:function(){this._sendToMetrika("empty",!0)},onError:function(e){this._sendToMetrika("error",e)},clear:function(){this._showAdvContainer=null,this._renderAdvStart=null,this._renderAdvEnd=null,this._skipAdv=null},_sendToMetrika:function(e,t){a.default.sendParams({adv:function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},e,t)})},_getTime:function(e){if(e<=0)return 0;return 250*Math.ceil(e/250)}};function u(){console.info("sendAdvClickGoal"),a.default.sendParams({goal:i.goals.ADV_CLICK,params:{advType:"game",sdkVersion:2}})}var c=0;function l(){var e=this;c+=1;try{s.onRenderAdvStart(),Ya.Context.AdvManager.render({blockId:this.partnerId,renderTo:"yandex_rtb_"+this.partnerId,pageNumber:c%20,async:!0,onRender:function(){s.onRenderAdvEnd(),function(){var e=this.advContainer.querySelector("."+this.cssClasses.modal__content);if(e){var t=e.firstElementChild;t&&t.addEventListener("click",u,!0)}}.call(e),e.lastShowTime=Date.now(),e.callbacks.onOpen()}},function(){s.onNoContent(),console.warn("There is no content"),f.call(e)})}catch(e){s.onError(String(e).substr(0,50)),console.error("Trouble with showing adv: ",e),f.call(this),this.callbacks.onError(e)}}function d(){if((0,o.isYandexSearchApp)()){var e=this.advContainer.style;return e.width=window.innerWidth+"px",void(e.height=window.innerHeight+"px")}var t=.01*window.innerHeight;document.documentElement.style.setProperty("--vh",t+"px"),this.savedPageYOffset=window.pageYOffset,window.scroll(0,0)}function f(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.advContainer.classList.remove(this.cssClasses.modal_visible),this.advContainer.querySelector("."+this.cssClasses.modal__content).innerHTML="",window.scroll(0,this.savedPageYOffset),p.call(this,e),this.lastShowTime=Date.now(),this.isAdvContainerShown=!1}function p(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if("function"==typeof this.adv.onAdvClose)try{this.adv.onAdvClose(e)}catch(e){console.error(e)}this.callbacks.onClose(e)}function h(e){e.stopPropagation(),e.preventDefault()}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.convertResponse=function(e){if("signature"in e){var t=e.signature,n=JSON.parse((0,r.atobUTF16)(t.split(".")[1])),o=n.data;return{data:o,signature:t}}return{data:e}},t.defineSignatureProp=function(e,t){t&&Object.defineProperty(e,"signature",{enumerable:!1,configurable:!1,get:function(){return t}})};var r=n(178)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createErrorInstance=function(e){var t=e.error,n=e.errorJSON,r=void 0;if(n)try{r=JSON.parse(n)}catch(e){console.error(e)}if(r&&r.name in s)return new s[r.name](r);return new Error(t)};var r=a(n(14)),o=a(n(34)),i=a(n(15));function a(e){return e&&e.__esModule?e:{default:e}}var s={AuthError:r.default,FetchError:o.default,PaymentsError:i.default};t.default=s},function(e,t,n){"use strict";function r(e){var t=e.code,n=e.message,o=e.httpStatus,i=e.fileName,a=e.lineNumber,s=new Error(n,i,a);return s.name="FetchError",s.code=t,s.httpStatus=o,Object.setPrototypeOf(s,Object.getPrototypeOf(this)),Error.captureStackTrace&&Error.captureStackTrace(s,r),s}Object.defineProperty(t,"__esModule",{value:!0}),r.prototype=Object.create(Error.prototype,{constructor:{value:Error,enumerable:!1,writable:!0,configurable:!0},toJSON:{value:function(){return{name:this.name,code:this.code,httpStatus:this.httpStatus,stack:this.stack,message:this.message}},enumerable:!1,writable:!0,configurable:!0}}),Object.setPrototypeOf(r,Error),t.default=r},function(e,t,n){(function(t){var n="object"==typeof t&&t&&t.Object===Object&&t;e.exports=n}).call(t,n(74))},function(e,t,n){var r=n(80),o=n(97),i=n(99),a=n(100),s=n(101);function u(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=o,u.prototype.get=i,u.prototype.has=a,u.prototype.set=s,e.exports=u},function(e,t,n){var r=n(26)(n(6),"Map");e.exports=r},function(e,t,n){var r=n(28),o=n(19);e.exports=function(e,t,n){(void 0===n||o(e[t],n))&&(void 0!==n||t in e)||r(e,t,n)}},function(e,t,n){var r=n(26),o=function(){try{var e=r(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();e.exports=o},function(e,t,n){var r=n(125)(Object.getPrototypeOf,Object);e.exports=r},function(e,t){var n=Object.prototype;e.exports=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||n)}},function(e,t,n){var r=n(126),o=n(7),i=Object.prototype,a=i.hasOwnProperty,s=i.propertyIsEnumerable,u=r(function(){return arguments}())?r:function(e){return o(e)&&a.call(e,"callee")&&!s.call(e,"callee")};e.exports=u},function(e,t){var n=9007199254740991;e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=n}},function(e,t,n){(function(e){var r=n(6),o=n(128),i="object"==typeof t&&t&&!t.nodeType&&t,a=i&&"object"==typeof e&&e&&!e.nodeType&&e,s=a&&a.exports===i?r.Buffer:void 0,u=(s?s.isBuffer:void 0)||o;e.exports=u}).call(t,n(29)(e))},function(e,t,n){var r=n(130),o=n(131),i=n(132),a=i&&i.isTypedArray,s=a?o(a):r;e.exports=s},function(e,t){e.exports=function(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}},function(e,t,n){var r=n(136),o=n(138),i=n(30);e.exports=function(e){return i(e)?r(e,!0):o(e)}},function(e,t){var n=9007199254740991,r=/^(?:0|[1-9]\d*)$/;e.exports=function(e,t){var o=typeof e;return!!(t=null==t?n:t)&&("number"==o||"symbol"!=o&&r.test(e))&&e>-1&&e%1==0&&e<t}},function(e,t){e.exports=function(e){return e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.initProperties=function(e){var t=e.partnerId,n=e.adv,o=void 0===n?{}:n;t||(console.warn("There is no partnerID: partnerId provides only on link in console. If you opened link from console then accept agreement in admin panel"),l.default.sendParams({advPartnerErrorData:{gameID:(0,u.getGameId)(),appId:(0,u.getAppId)()},errorText:"Empty partnerId"}));this.isAdvContainerShown=!1,this.adv=o,this.partnerId=t,this.options=e,this.deviceType=d.default.type,this.viewType=this.deviceType===f.deviceTypes.desktop?s.viewTypes.desktop:s.viewTypes.fullscreen,this.cssClasses=r.getCssClasses.call(this),this.minIntervalBetweenAds=!i.IS_PROD&&parseInt(_["min-interval-between-ads"],10)||s.defaultMinIntervalBetweenAds,this.isYandexSearchApp=(0,p.isYandexSearchApp)(),this.advDelay=function(){if(_.a_delay){var e=parseInt(_.a_delay,10);if(!Number.isNaN(e)&&e>0)return e}return 0}(),_.a_delay&&function(){var e=(0,a.default)({url:window.location.href,removed:["a_delay"]});window.history.replaceState(null,document.title,e)}()},t.initModal=function(){this.advContainer=document.createElement("div"),this.advContainer.classList.add(this.cssClasses.modal),this.viewType===s.viewTypes.fullscreen?this.advContainer.classList.add(this.cssClasses.yandexAdaptive,this.cssClasses["modal_view-type_fullscreen"]):this.viewType===s.viewTypes.desktop&&this.advContainer.classList.add(this.cssClasses.yandexAdaptive,this.cssClasses["modal_view-type_desktop"]);this.deviceType===f.deviceTypes.desktop?this.advContainer.innerHTML='\n        <div class="'+this.cssClasses.modal__wrap+'">\n            <div class="'+this.cssClasses.modal__content+'" id="yandex_rtb_'+this.partnerId+'"></div>\n            <span class="'+this.cssClasses.modal__close+'" aria-hidden="true"></span>\n        </div>\n        ':this.advContainer.innerHTML='\n        <div class="'+m.call(this,"modal__content")+'" id="yandex_rtb_'+this.partnerId+'"></div>\n        <span class="'+m.call(this,"modal__close")+'" aria-hidden="true">Пропустить рекламу</span>\n        ';o.bindModalEvents.call(this),document.body.appendChild(this.advContainer)},t.initAdvHeightHandler=function(){window.addEventListener("resize",o.handleResize.bind(this))},t.initAdv=function(){window.yandexContextAsyncCallbacks=[o.onAdvSdkReady.bind(this,!0)];var e=function(){v()}.bind(this),t=function(){o.onAdvSdkReady.call(this,!1),v()}.bind(this);!function(n,r,o,i,a){try{n[o]=n[o]||[],a=r.getElementsByTagName("script")[0],(i=r.createElement("script")).addEventListener("load",e),i.addEventListener("error",t),i.src="//an.dex.ru/system/context.js",i.async=!0,a.parentNode.insertBefore(i,a)}catch(e){console.error(e)}}(window,document,"yandexContextAsyncCallbacks")};var r=n(157),o=n(31),i=n(0),a=h(n(9)),s=n(21),u=n(2),c=h(n(8)),l=h(n(10)),d=h(n(4)),f=n(158),p=n(13);function h(e){return e&&e.__esModule?e:{default:e}}var _=(0,c.default)(window.location);function m(e){var t=this.cssClasses[e+"_search-application"];return this.cssClasses[e]+" "+(this.isYandexSearchApp?t:"")}function v(){var e=!1;try{e=Boolean(window.Ya.Context.AdvManager.render)}catch(e){}l.default.sendParams({adv:{yaContextScriptLoad:e}})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.goals={ADV_CLICK:"adv_click",RATED_GAME_MORE_3:"rated_game_more_3",RATED_GAME:"rated_game",SUCCESS_PURCHASE:"success_purchase_%app_id%"}},function(e,t,n){"use strict";function r(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){};return function(){try{return e.apply(void 0,arguments)}catch(e){console.error(t,e),n(e)}}}Object.defineProperty(t,"__esModule",{value:!0}),t.errorDecorator=r,t.addCallbacks=function(e,t){var n=this;t.forEach(function(t){n.callbacks[t]="function"==typeof e[t]?r(e[t],"Error in callback "+t+": "):function(){}})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=u(n(161)),i=u(n(162)),a=u(n(1)),s=n(0);function u(e){return e&&e.__esModule?e:{default:e}}var c=a.default.Symbol("authManagerInstance"),l=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];s.IS_FRAMED?this[c]=new(Function.prototype.bind.apply(o.default,[null].concat(n))):this[c]=new(Function.prototype.bind.apply(i.default,[null].concat(n)))}return r(e,[{key:"openAuthDialog",value:function(){return this[c].openAuthDialog()}}]),e}());t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return e&&e.__esModule?e:{default:e}}(n(10));t.default=function(e){r.default.sendParams({sdk:{auth:{dialog:e}}})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={isDialogSupport:function(){return this.isShadowSupport()&&(this.isCustomElementsSupport()||this.isRegisterElementSupport())},isCustomElementsSupport:function(){return window.customElements&&"function"==typeof window.customElements.define},isRegisterElementSupport:function(){return"function"==typeof document.registerElement},isShadowSupport:function(){return"function"==typeof window.HTMLElement&&"function"==typeof window.HTMLElement.prototype.attachShadow}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=a(n(172)),i=n(2);function a(e){return e&&e.__esModule?e:{default:e}}var s="https://dex.ru/games/sdk/payments/trust-fake.html";a(n(1)).default.setup();var u=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,HTMLElement),r(t,[{key:"connectedCallback",value:function(){var e=this,n=(0,o.default)(this.getAttribute("platform")).content;this.attachShadow({mode:"open"}).appendChild(n.cloneNode(!0)),t.observedAttributes.forEach(function(t){var n=e.getAttribute(t);e._updateAttribute(t,n)}),this._addEventListeners()}},{key:"attributeChangedCallback",value:function(e,t,n){this._updateAttribute(e,n)}},{key:"isFakePurchase",value:function(){return this.getAttribute("url")===s}},{key:"_addEventListeners",value:function(){var e=this,t=this.shadowRoot.querySelectorAll(".close"),n=!0,r=!1,o=void 0;try{for(var i,a=t[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){i.value.addEventListener("click",function(){e.dispatchEvent(new Event("close"))})}}catch(e){r=!0,o=e}finally{try{!n&&a.return&&a.return()}finally{if(r)throw o}}var s=this.shadowRoot.querySelector(".frame");s.addEventListener("load",function(){"about:blank"!==s.src&&s.parentNode.classList.add("frame-wrapper_state-ready")}),s.addEventListener("error",function(){s.parentNode.classList.add("frame-wrapper_state-ready")})}},{key:"_updateAttribute",value:function(e,t){this.shadowRoot&&("url"===e?this._updateFrameURL(t):"image"===e?this._updateElementAttribute(e,"src",t):this._updateElementText(e,t))}},{key:"_updateFrameURL",value:function(e){e===s&&(e=(0,i.appendOriginParam)(e),e=(0,i.replaceSDKHost)(e)),this.shadowRoot.querySelector(".frame").setAttribute("src",e||"about:blank")}},{key:"_updateElementAttribute",value:function(e,t,n){n?this.shadowRoot.querySelector("."+e).setAttribute(t,n):this.shadowRoot.querySelector("."+e).removeAttribute(t)}},{key:"_updateElementText",value:function(e,t){this.shadowRoot.querySelector("."+e).innerText=t||" "}}],[{key:"observedAttributes",get:function(){return["description","image","price","title","url"]}}]),t}();if(window.customElements)customElements.define("purchase-dialog",u);else if(document.registerElement){u.prototype.attachedCallback=function(){this.connectedCallback()};var c=u.prototype.attributeChangedCallback;u.prototype.attributeChangedCallback=function(e,t,n){-1!==u.observedAttributes.indexOf(e)&&c.call(this,e,t,n)},document.registerElement("purchase-dialog",{prototype:u.prototype})}t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fetchData=function(e,t){return new Promise(function(n,r){var o=d(e,t);if(o){var i={credentials:"include",referrerPolicy:"no-referrer-when-downgrade"};if(a.IS_FRAMED)s.default.postToParent({type:"fetch",data:{url:o,options:i,timeout:l}}).then(function(e){var t=e.data;n(t.result)}).catch(r);else{var u=h(r);fetch(o,i).then(f).then(p).then(u.clear).then(n).catch(function(e){r(e),u.clear()})}}else r(new Error("Can not create URL"))})},t.postData=function(e,t){return new Promise(function(n,r){var o=d(e);if(o){var i={method:"POST",credentials:"include",referrerPolicy:"no-referrer-when-downgrade",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(t)};if(a.IS_FRAMED)s.default.postToParent({type:"fetch",data:{url:o,options:i,timeout:l}}).then(function(e){n(e.data.result)}).catch(r);else{var u=h(r);fetch(o,i).then(f).then(p).then(u.clear).then(n).catch(function(e){r(e),u.clear()})}}else r(new Error("Can not create URL"))})};var r=u(n(22)),o=n(2),i=u(n(9)),a=n(0),s=u(n(3));function u(e){return e&&e.__esModule?e:{default:e}}var c="https://games.dex.ru/api/sdk/v1/player",l=3e3;function d(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,o.isDraft)()&&(t.draft=!0),Object.keys(t).forEach(function(e){void 0===t[e]&&delete t[e]});var n=(0,i.default)({url:""+c+e,params:t});return(0,o.appendApplicationIdParam)(n)}function f(e){return e.status>=200&&e.status<300?(r.default.resignOnResponseIfNeeded(e),Promise.resolve(e)):Promise.reject(new Error(e.statusText))}function p(e){return 204===e.status?Promise.resolve():e.json()}function h(e){var t=setTimeout(function(){e(new Error("Request timeout"))},l);return{clear:function(){return clearTimeout(t),Promise.resolve.apply(Promise,arguments)}}}},function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(59),i=n(0),a=n(60),s=m(n(149)),u=m(n(155)),c=m(n(53)),l=m(n(4)),d=m(n(169)),f=m(n(179)),p=m(n(180)),h=n(23),_=m(n(181));function m(e){return e&&e.__esModule?e:{default:e}}function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}window.parent!==window&&window.parent.postMessage({source:"YandexGamesSDK",type:"sdk-bundle-start",messageId:Date.now()+"-"+Math.random(),data:{time:Date.now(),sdkVersion:"v2"}},"*"),i.IS_FRAMED&&console.info("v2 framed start"),(0,h.getDebugLog)()("APP_VERSION","426"),f.default.overrideCacheSearch();var b=null;p.default.sync();var y=function e(t){if(v(this,e),b)return console.warn("YaGames was initialized"),b;t=(0,a.ensureOptions)(t),this.yandexApp={enabled:i.IS_YANDEX_APP_ENABLED},this.deviceInfo=l.default,this.screen=new s.default(t.screen),this.adv=new u.default(t),this.auth=c.default,this.getPayments=d.default,this.getPlayer=_.default,b=this,p.default.sync()},g=function(){function e(){throw v(this,e),new Error("Please, use `YaGames.init` instead.")}return r(e,null,[{key:"init",value:function(e){return new Promise(function(t,n){var r=function(r){try{e=(0,a.ensureOptions)(r,e),(0,o.waitDocumentReady)().then(function(){t(new y(e))})}catch(e){console.error(e),n(e)}};(0,a.loadOptions)().then(r).catch(function(e){console.warn("Options load failed with error "+e),r()})})}}]),e}();g.deviceInfo=l.default,setTimeout(function(){var e={borrowParams:{tmpPlayTime5:{framed:i.IS_FRAMED,appVersion:"426"}}};(new Image).src="https://mc.dex.ru/watch/49035923?&page-url="+encodeURIComponent(window.location)+"&page-ref="+encodeURIComponent(document.referrer)+"&charset=utf-8&site-info="+encodeURIComponent(JSON.stringify(e))},5e3),setTimeout(function(){var e={borrowParams:{tmpPlayTime60:{framed:i.IS_FRAMED,appVersion:"426"}}};(new Image).src="https://mc.dex.ru/watch/49035923?&page-url="+encodeURIComponent(window.location)+"&page-ref="+encodeURIComponent(document.referrer)+"&charset=utf-8&site-info="+encodeURIComponent(JSON.stringify(e))},6e4),setTimeout(function(){var e={borrowParams:{tmpPlayTime900:{framed:i.IS_FRAMED,appVersion:"426"}}};(new Image).src="https://mc.dex.ru/watch/49035923?&page-url="+encodeURIComponent(window.location)+"&page-ref="+encodeURIComponent(document.referrer)+"&charset=utf-8&site-info="+encodeURIComponent(JSON.stringify(e))},9e5),e.exports=g},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.waitDocumentReady=function(){return new Promise(function(e){"loading"===document.readyState?document.addEventListener("readystatechange",function t(n){"loading"!==n.target.readyState&&(n.target.removeEventListener("readystatechange",t),e())}):e()})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.loadOptions=t.ensureOptions=void 0;var r=n(61),o=n(106);t.ensureOptions=o.ensureOptions,t.loadOptions=r.loadOptions},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.loadOptions=function(){return new Promise(function(e,t){a.IS_FRAMED?function(e,t){s.default.postToParent({type:"options",action:"get"}).then(function(t){var n=t.data;e(n)}).catch(function(e){t(e)})}(e,t):function(e,t){var n=function(){var e=w();return e&&e.response}();if(n&&(e(n),!function(){if(o.isOnDebugMode)return!0;var e=w();return!(e&&Math.abs(Date.now()-e.timestamp)<h)}()))return;!function(e,t){var n=function(){var e=(0,r.appendApplicationIdParam)(l);(0,r.isDraft)()&&(e+="&draft=true");return e}();if(!n)return void t(new Error("Can not create URL for options request"));i.default.sendParams({sdkFeaturesLoader:{status:"start"}});var o=function(e){var t=setTimeout(function(){e(new Error("Request timeout"))},d);return{clear:function(){return clearTimeout(t),Promise.resolve.apply(Promise,arguments)},timeStart:Date.now(),get duration(){return 10*Math.ceil((Date.now()-this.timeStart)/10)}}}(function(){i.default.sendParams({sdkFeaturesLoader:{status:"timeout"}}),t.apply(void 0,arguments)});fetch(n,{credentials:"include",referrerPolicy:"no-referrer-when-downgrade"}).then(v).then(b).then(o.clear).then(y).then(x).then(function(t){i.default.sendParams({sdkFeaturesLoader:{status:"ok",duration:o.duration}}),e(t)}).catch(function(e){i.default.sendParams({sdkFeaturesLoader:{status:"error",errorText:String(e)}}),t(e),o.clear()})}(e,t)}(e,t)})};var r=n(2),o=n(23),i=u(n(10)),a=n(0),s=u(n(3));function u(e){return e&&e.__esModule?e:{default:e}}var c=n(70),l="https://games.dex.ru/api/sdk/v1/game",d=7e3,f=1,p=604800,h=86400,_="YANDEX_SDK_API_RESPONSE";function m(){var e=window.location;return""+e.origin+e.pathname}function v(e){return e.status>=200&&e.status<300?Promise.resolve(e):Promise.reject(new Error(e.statusText))}function b(e){return e.json()}function y(e){if(!(e&&"features"in e))return Promise.reject(new Error("Unexpected data to convert"));var t=c(e,"features.orientation",null);"none"===t&&(t=null);var n={partnerId:c(e,"advBlocks.fullscreen",null),screen:{orientation:{value:t}}};return Promise.resolve(n)}function g(e){return e&&e.version===f&&e.location===m()&&!function(e){return Math.abs(Date.now()-e)>p}(e.timestamp)&&Boolean(e.response)}function w(){try{var e=JSON.parse(localStorage.getItem(_));return g(e)&&e}catch(e){console.warn(e)}}function x(e){try{var t={version:f,location:m(),timestamp:Date.now(),response:e};return localStorage.setItem(_,JSON.stringify(t)),Promise.resolve(e)}catch(e){return Promise.reject(e)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(n(63)),o=n(0),i=a(n(8));function a(e){return e&&e.__esModule?e:{default:e}}var s=Date.now(),u=(0,i.default)(window.location),c=function(){};try{var l=new r.default({startTime:s,locationParams:u});l.start(),c=l.borrowSendMessage.bind(l)}catch(e){console.error("TimePinger start failed with next error: ",e)}var d={init:function(){},sendParams:function(e){o.IS_PROD||console.info("Send stat params:\n"+JSON.stringify(e,null,"\t")),"params"in e||(e.params={}),c(e)}};t.default=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=f(n(64)),a=f(n(9)),s=n(23),u=f(n(65)),c=n(66),l=f(n(4)),d=n(2);function f(e){return e&&e.__esModule?e:{default:e}}var p=(0,u.default)(/\/sdk\/v\d+/),h={more_than_10:10,more_than_15:15,more_than_20:20,more_than_25:25,more_than_30:30},_=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._handleUnload=function(){n._safeCallingFunction(function(){n._sendMessageToIframe("unload",{time:Date.now(),hidden:document.hidden,focus:document.hasFocus()})}),clearTimeout(n._timerId),n._clearTimeGoalTimeouts()},this._onSuccessIframeLoad=function(){if(n._shouldSendDataToIframe()){n._wasSuccessIframeLoad=!0;var e=n._getSavedOfflineData();n._executionQueue.ready=!1,Object.keys(e).forEach(function(t){var o=e[t];Object.keys(o).forEach(function(e){var t=o[e],i=t.startTime,a=t.records,s=t.commonData,u=a.reduce(n._collapseRecords,[{start:{time:i,event:c.recordTypes.start}}]).map(function(e){return r({},e,s)});n._debugLog("accumulatedData",u),n._sendOfflineRecords(u)})}),n._setSavedOfflineData({}),n._executionQueue.ready=!0}},this._collapseRecords=function(e,t){if(t.type===c.recordTypes.focus)e.push({start:{time:t.startTime,event:t.type}});else{var n=e[e.length-1];n.update={time:t.time,event:t.type},n.sumTime=n.update.time-n.start.time}return e},this._sendOfflineRecords=function(e){n._safeCallingFunction(function(){n._sendMessageToIframe(c.recordTypes.saved,{records:e})})},this._handleMessage=function(e){var t=e.data,r=t.type,o=t.status;t.checkID===n._checkID&&("success"===o&&("start"===r?n._hasStartedIframeAnswer=!0:"metrika"===r&&(n._hasStartedMetrikaWork=!0)),n._doesIframeLoadSuccessfully()&&(n._iframeQueue.ready=!0),n._onSuccessIframeLoad())},this._shouldSendDataToIframe=function(){return n._doesIframeLoadSuccessfully()&&document.hasFocus()&&!n._wasSuccessIframeLoad},this._appendIframe=function(){document.querySelector("body").appendChild(n._iframe)};var o=t.startTime,i=t.locationParams;this._isBrokenIframe="1"===i["broken-iframe-mode"],this._isOnDebugMode=s.isOnDebugMode,this._debugLog=(0,s.getDebugLog)(),this._init(o),this._deviceType=l.default.type,this._setParamsFromQuery(i),this._setUtmParams(i),this._checkID=(0,c.getCheckID)(this._startTime,this._gameID)}return o(e,[{key:"_init",value:function(e){this._name="machine",this._startTime=e||Date.now(),this._hasStartedIframeAnswer=!1,this._hasStartedMetrikaWork=!1,this._wasSuccessIframeLoad=!1,this._executionQueue=new i.default(!0),this._iframeQueue=new i.default(!1),this._appID=(0,d.getAppId)()}},{key:"start",value:function(){this._setListeners(),this._addIframe(),document.hasFocus()&&this._setTimeGoalTimeouts()}},{key:"_setTimeGoalTimeouts",value:function(){var e=this;this.timeGoalTimeoutIDs=Object.keys(h).reduce(function(t,n){var r=setTimeout(function(){e._sendTimeGoal(n)},6e4*h[n]);return t.push(r),t},[])}},{key:"_clearTimeGoalTimeouts",value:function(){this.timeGoalTimeoutIDs&&this.timeGoalTimeoutIDs.forEach(function(e){clearTimeout(e)})}},{key:"_sendTimeGoal",value:function(e){this.borrowSendMessage({goal:e})}},{key:"_doesIframeLoadSuccessfully",value:function(){return this._hasStartedIframeAnswer&&this._hasStartedMetrikaWork}},{key:"_setParamsFromQuery",value:function(e){this._gameID=e["game-id"],this._rtxReqID=e["rtx-reqid"],this._divRtxReqID=e["div-rtx-reqid"],this._ymDebug=e._ym_debug}},{key:"_setUtmParams",value:function(e){var t=this;this._utmParams={},Object.keys(e).forEach(function(n){("from"===n||/utm_*/.test(n))&&(t._utmParams[n]=e[n])})}},{key:"_sendMessageToIframe",value:function(e,t){var n=r({type:e},t,{checkID:this._checkID});if(this._doesIframeLoadSuccessfully()||e===c.recordTypes.start){if(e===c.recordTypes.unload)return;this._debugLog("postMessageToIframe",e),window.frames[this._name].postMessage(n,p)}else this._debugLog("saveToLocalStorage"),this._saveToLocalStorage(n)}},{key:"borrowSendMessage",value:function(e){var t=this,n=r({type:"borrow"},e,{checkID:this._checkID});this._iframeQueue.add(function(){window.frames[t._name].postMessage(n,p)})}},{key:"_saveToLocalStorage",value:function(e){var t=this._getSavedOfflineData();this._addToSavedOfflineData(t,{item:{id:this._gameID},name:"time",checkID:this._checkID,"rtx-reqid":this._divRtxReqID||this._rtxReqID,clientDeviceType:this._deviceType,from:this._divRtxReqID?"div":"feed"},e),this._setSavedOfflineData(t)}},{key:"_addToSavedOfflineData",value:function(e,t,n){var r=e[this._gameID]||{};r[this._checkID]=r[this._checkID]||{commonData:t,startTime:this._startTime,records:[]},r[this._checkID].records.push(n),e[this._gameID]=r}},{key:"_getSavedOfflineData",value:function(){var e=localStorage.getItem("savedOffline"),t={};if(e)try{t=JSON.parse(e)||{}}catch(e){console.error(e)}return t}},{key:"_setSavedOfflineData",value:function(e){localStorage.setItem("savedOffline",JSON.stringify(e))}},{key:"_safeCallingFunction",value:function(e){this._executionQueue.add(e)}},{key:"handleEvent",value:function(e){var t=this;if(this._lastEvent!==c.recordTypes.focus||e.type!==c.recordTypes.focus){this._lastEvent=e.type;var n=Date.now(),r=e.type;if("visibilitychange"===e.type){if(!document.hidden)return;r=c.recordTypes.visibilityChangeHidden}this._onSuccessIframeLoad(),this._safeCallingFunction(function(){t._sendMessageToIframe(r,{time:Date.now(),hidden:document.hidden,hasFocus:document.hasFocus(),startTime:n})}),r===c.recordTypes.focus&&(this._updateCurrentTime(),this._setTimeGoalTimeouts()),[c.recordTypes.visibilityChangeHidden,c.recordTypes.blur].includes(r)&&(clearTimeout(this._timerId),this._clearTimeGoalTimeouts())}}},{key:"_setListeners",value:function(){window.addEventListener("focus",this),window.addEventListener("blur",this),document.addEventListener("visibilitychange",this),window.addEventListener("unload",this._handleUnload),window.addEventListener("message",this._handleMessage)}},{key:"_getAdditionalGetParams",value:function(){var e=r({"app-id":this._appID,"game-id":this._gameID,"start-time":this._startTime,"check-id":this._checkID,"game-origin":location.origin,"game-original-url":String(location).substring(0,500),"sdk-debug-mode":s.isOnDebugMode?"1":"0","has-focus-on-start":document.hasFocus()?"1":"0"},this._utmParams);return this._divRtxReqID&&(e["div-rtx-reqid"]=this._divRtxReqID),this._rtxReqID&&(e["rtx-reqid"]=this._rtxReqID),this._deviceType&&(e["device-type"]=this._deviceType),this._ymDebug&&(e._ym_debug=this._ymDebug),e}},{key:"_getIframePath",value:function(){return this._isBrokenIframe?"/games/iframe/broken-iframe-url":"/games/iframe/"}},{key:"_createIframe",value:function(e){var t=document.createElement("iframe");t.setAttribute("src",e),t.setAttribute("allowtransparency","true"),t.setAttribute("name",this._name);return t.setAttribute("style","width: 1px; height: 1px; left: -50000px; top: -50000px; position: absolute;"),t}},{key:"_addIframe",value:function(){var e=this,t=this._getAdditionalGetParams(),n=this._getIframePath(),r=(0,a.default)({url:""+p+n,params:t});this._debugLog("_createIframe(): iframeUrl",r),this._iframe=this._createIframe(r),this._iframe.addEventListener("load",function(){e._sendMessageToIframe(c.recordTypes.start,{time:Date.now()}),e._updateCurrentTime()}),["complete","interactive"].includes(document.readyState)?this._appendIframe():document.addEventListener("DOMContentLoaded",this._appendIframe)}},{key:"_updateCurrentTime",value:function(){var e=this;this._timerId=setTimeout(function(){!document.hidden&&document.hasFocus()&&(e._safeCallingFunction(function(){e._sendMessageToIframe(c.recordTypes.update,{time:Date.now()})}),e._updateCurrentTime())},c.timeBetweenPings)}}]),e}();t.default=_},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var o=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._ready=t,this._funcQueue=[]}return r(e,[{key:"add",value:function(e){this._funcQueue.push(e),this._tryToExecute()}},{key:"_tryToExecute",value:function(){if(this._ready)for(;this._funcQueue.length>0;)try{this._funcQueue.shift()()}catch(e){console.error(e)}}},{key:"ready",set:function(e){this._ready=e,this._tryToExecute()}}]),e}();t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=t.mainRegExp=/(^https?:\/\/(?:.*\.)*yandex\.(?:ru|ua|by|kz|uz|com|com\.tr))\/games/;t.default=function(e){var t=document.querySelectorAll("script"),n=r;e&&(n=new RegExp(r.source+e.source));for(var o=0;o<t.length;o+=1){var i=t[o].src.match(n);if(i&&i[1])return i[1]}return"https://dex.ru"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.randomUID=t.s4Random=t.getCookie=t.sendGameStartedRecords=t.sendTimeRecordsFromLocalStorage=t.sendTimeRecords=t.tryToSendRecord=t.setSavedRecord=t.getSavedRecords=t.getCheckID=t.gameStartLocalStorageKey=t.timeLocalStorageKey=t.recordTypes=t.sendingEvents=t.updateTimeEvents=t.timeBetweenPings=t.waitingChangesTime=void 0;var r=n(67),o=n(68),i=t.waitingChangesTime=15e3,a=(t.timeBetweenPings=1e4,t.updateTimeEvents={initEnd:"initEnd",start:"start",update:"update",focus:"focus",blur:"blur",unload:"unload",visibilityChangeHidden:"visibilityChangeHidden"}),s=t.sendingEvents={feed:"feed",init:"init",focus:"focus",blur:"blur",unload:"unload",visibilityChangeHidden:"visibilityChangeHidden",saved:"saved"},u=(t.recordTypes={start:"start",update:"update",blur:"blur",focus:"focus",visibilityChangeHidden:"visibilityChangeHidden",saved:"saved",unload:"unload"},t.timeLocalStorageKey="savedTimeRecords"),c=t.gameStartLocalStorageKey="savedGameStartRecords",l=(t.getCheckID=function(e,t){return e+"-"+t},t.getSavedRecords=function(e){var t=(0,r.tryGetLocalStorage)(e).value,n={};try{n=JSON.parse(t)||{}}catch(e){console.error(e)}return n}),d=t.setSavedRecord=function(e,t,n,o){var i=l(e);if("add"===t)i[n]=o;else if("remove"===t){if(!(n in i))return;delete i[n]}(0,r.trySetLocalStorage)(e,JSON.stringify(i))},f=[a.initEnd,a.start,a.update,a.focus],p=t.tryToSendRecord=function(e){var t=e.sendParamsCallback,n=e.params,r=e.debugLog,o=e.successCallback,i=e.errorCallback,a=e.localStorageKey,s=e.recordKey,u=!0;try{t(n),r("Record was successfully sent"),"function"==typeof o&&o()}catch(e){console.error(e),r("Cannot send, record is saved in LocalStorage"),u=!1,"function"==typeof i&&i(e)}u&&d(a,"remove",s)},h=t.sendTimeRecords=function(e,t,n,r,o){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:function(){};Object.keys(e).forEach(function(c){var l=e[c],d=Date.now();l.sending={event:t,time:d},l.update&&(f.includes(l.update.event)&&(t!==s.feed&&r===l.checkID&&o===l.start.time||d-l.update.time<=i)?a("record is writing still",l.sending.event,l.update.event,l.start.time,d-l.update.time):p({sendParamsCallback:n,params:{rtx:l},debugLog:a,successCallback:function(){a("record is sent, sending event",l.sending.event)},localStorageKey:u,recordKey:c}))})},_=(t.sendTimeRecordsFromLocalStorage=function(e,t,n,r,o){var i=l(u);h(i,e,t,n,r,o)},t.sendGameStartedRecords=function(e){var t=e.sendParamsCallback,n=e.debugLog,r=e.params,o=e.id;r&&d(c,"add",o,r);var i=l(c);Object.keys(i).forEach(function(e){var r=i[e];p({sendParamsCallback:t,params:r,debugLog:n,localStorageKey:c,recordKey:e})})},t.getCookie=function(e){var t=new RegExp("(?:^|; )"+(0,o.escapeRegExp)(e)+"=([^;]*)"),n=document.cookie.match(t);if(n)try{return decodeURIComponent(n[1])}catch(e){}},t.s4Random=function(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)});t.randomUID=function(){return""+_()+_()+"-"+_()+"-"+_()+"-"+_()+"-"+_()+_()+_()}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.trySetLocalStorage=function(e,t){try{localStorage.setItem(e,t)}catch(e){return!1}return!0},t.tryGetLocalStorage=function(e){try{return{value:localStorage.getItem(e)}}catch(e){return{wasError:!0}}}},function(e,t,n){"use strict";t.escapeRegExp=function(e){return e.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=n(13),i={},a="undefined"==typeof window?"":window.navigator.userAgent.toLowerCase(),s=["googletv","viera","smarttv","internet.tv","netcast","nettv","appletv","boxee","kylo","roku","dlnadoc","pov_tv","hbbtv","ce-html"];
/**
                                                                                                                                                                                                                                                                               * [current-device]{@link https://github.com/matthewhudson/current-device}
                                                                                                                                                                                                                                                                               *
                                                                                                                                                                                                                                                                               * @version 0.8.0
                                                                                                                                                                                                                                                                               * @author Matthew Hudson
                                                                                                                                                                                                                                                                               * @copyright 2012-present Matthew Hudson
                                                                                                                                                                                                                                                                               * @license MIT
                                                                                                                                                                                                                                                                               */function u(e,t){return-1!==e.indexOf(t)}function c(e){return u(a,e)}function l(e){for(var t=0;t<e.length;t+=1)if(i[e[t]]())return e[t];return"unknown"}i.macos=function(){return c("mac")},i.ios=function(){return i.iphone()||i.ipod()||i.ipad()},i.iphone=function(){return!i.windows()&&c("iphone")},i.ipod=function(){return c("ipod")},i.ipad=function(){return c("ipad")},i.android=function(){return!i.windows()&&c("android")},i.androidPhone=function(){return i.android()&&c("mobile")},i.androidTablet=function(){return i.android()&&!c("mobile")},i.blackberry=function(){return c("blackberry")||c("bb10")||c("rim")},i.blackberryPhone=function(){return i.blackberry()&&!c("tablet")},i.blackberryTablet=function(){return i.blackberry()&&c("tablet")},i.windows=function(){return c("windows")},i.windowsPhone=function(){return i.windows()&&c("phone")},i.windowsTablet=function(){return i.windows()&&c("touch")&&!i.windowsPhone()},i.fxos=function(){return(c("(mobile")||c("(tablet"))&&c(" rv:")},i.fxosPhone=function(){return i.fxos()&&c("mobile")},i.fxosTablet=function(){return i.fxos()&&c("tablet")},i.meego=function(){return c("meego")},i.cordova=function(){return window.cordova&&"file:"===location.protocol},i.nodeWebkit=function(){return"object"===r(window.process)},i.mobile=function(){return i.androidPhone()||i.iphone()||(0,o.isYandexApp)()||i.ipod()||i.windowsPhone()||i.blackberryPhone()||i.fxosPhone()||i.meego()},i.tablet=function(){return i.ipad()||i.androidTablet()||i.blackberryTablet()||i.windowsTablet()||i.fxosTablet()},i.desktop=function(){return!i.tablet()&&!i.mobile()},i.television=function(){return s.some(function(e){return c(e)})},i.portrait=function(){return screen.orientation&&Object.prototype.hasOwnProperty.call(window,"onorientationchange")?u(screen.orientation.type,"portrait"):window.innerHeight/window.innerWidth>1},i.landscape=function(){return screen.orientation&&Object.prototype.hasOwnProperty.call(window,"onorientationchange")?u(screen.orientation.type,"landscape"):window.innerHeight/window.innerWidth<1},i.type=l(["mobile","tablet","desktop"]),i.os=l(["ios","iphone","ipad","ipod","android","blackberry","macos","windows","fxos","meego","television"]),t.default=i},function(e,t,n){var r=n(71);e.exports=function(e,t,n){var o=null==e?void 0:r(e,t);return void 0===o?n:o}},function(e,t,n){var r=n(72),o=n(105);e.exports=function(e,t){for(var n=0,i=(t=r(t,e)).length;null!=e&&n<i;)e=e[o(t[n++])];return n&&n==i?e:void 0}},function(e,t,n){var r=n(11),o=n(73),i=n(77),a=n(102);e.exports=function(e,t){return r(e)?e:o(e,t)?[e]:i(a(e))}},function(e,t,n){var r=n(11),o=n(24),i=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;e.exports=function(e,t){if(r(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!o(e))||a.test(e)||!i.test(e)||null!=t&&e in Object(t)}},function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){var r=n(25),o=Object.prototype,i=o.hasOwnProperty,a=o.toString,s=r?r.toStringTag:void 0;e.exports=function(e){var t=i.call(e,s),n=e[s];try{e[s]=void 0;var r=!0}catch(e){}var o=a.call(e);return r&&(t?e[s]=n:delete e[s]),o}},function(e,t){var n=Object.prototype.toString;e.exports=function(e){return n.call(e)}},function(e,t,n){var r=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,o=/\\(\\)?/g,i=n(78)(function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(r,function(e,n,r,i){t.push(r?i.replace(o,"$1"):n||e)}),t});e.exports=i},function(e,t,n){var r=n(79),o=500;e.exports=function(e){var t=r(e,function(e){return n.size===o&&n.clear(),e}),n=t.cache;return t}},function(e,t,n){var r=n(36),o="Expected a function";function i(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError(o);var n=function(){var r=arguments,o=t?t.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var a=e.apply(this,r);return n.cache=i.set(o,a)||i,a};return n.cache=new(i.Cache||r),n}i.Cache=r,e.exports=i},function(e,t,n){var r=n(81),o=n(17),i=n(37);e.exports=function(){this.size=0,this.__data__={hash:new r,map:new(i||o),string:new r}}},function(e,t,n){var r=n(82),o=n(88),i=n(89),a=n(90),s=n(91);function u(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=o,u.prototype.get=i,u.prototype.has=a,u.prototype.set=s,e.exports=u},function(e,t,n){var r=n(16);e.exports=function(){this.__data__=r?r(null):{},this.size=0}},function(e,t,n){var r=n(27),o=n(84),i=n(5),a=n(86),s=/^\[object .+?Constructor\]$/,u=Function.prototype,c=Object.prototype,l=u.toString,d=c.hasOwnProperty,f=RegExp("^"+l.call(d).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!i(e)||o(e))&&(r(e)?f:s).test(a(e))}},function(e,t,n){var r=n(85),o=function(){var e=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();e.exports=function(e){return!!o&&o in e}},function(e,t,n){var r=n(6)["__core-js_shared__"];e.exports=r},function(e,t){var n=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return n.call(e)}catch(e){}try{return e+""}catch(e){}}return""}},function(e,t){e.exports=function(e,t){return null==e?void 0:e[t]}},function(e,t){e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},function(e,t,n){var r=n(16),o="__lodash_hash_undefined__",i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(r){var n=t[e];return n===o?void 0:n}return i.call(t,e)?t[e]:void 0}},function(e,t,n){var r=n(16),o=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return r?void 0!==t[e]:o.call(t,e)}},function(e,t,n){var r=n(16),o="__lodash_hash_undefined__";e.exports=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=r&&void 0===t?o:t,this}},function(e,t){e.exports=function(){this.__data__=[],this.size=0}},function(e,t,n){var r=n(18),o=Array.prototype.splice;e.exports=function(e){var t=this.__data__,n=r(t,e);return!(n<0||(n==t.length-1?t.pop():o.call(t,n,1),--this.size,0))}},function(e,t,n){var r=n(18);e.exports=function(e){var t=this.__data__,n=r(t,e);return n<0?void 0:t[n][1]}},function(e,t,n){var r=n(18);e.exports=function(e){return r(this.__data__,e)>-1}},function(e,t,n){var r=n(18);e.exports=function(e,t){var n=this.__data__,o=r(n,e);return o<0?(++this.size,n.push([e,t])):n[o][1]=t,this}},function(e,t,n){var r=n(20);e.exports=function(e){var t=r(this,e).delete(e);return this.size-=t?1:0,t}},function(e,t){e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},function(e,t,n){var r=n(20);e.exports=function(e){return r(this,e).get(e)}},function(e,t,n){var r=n(20);e.exports=function(e){return r(this,e).has(e)}},function(e,t,n){var r=n(20);e.exports=function(e,t){var n=r(this,e),o=n.size;return n.set(e,t),this.size+=n.size==o?0:1,this}},function(e,t,n){var r=n(103);e.exports=function(e){return null==e?"":r(e)}},function(e,t,n){var r=n(25),o=n(104),i=n(11),a=n(24),s=1/0,u=r?r.prototype:void 0,c=u?u.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(i(t))return o(t,e)+"";if(a(t))return c?c.call(t):"";var n=t+"";return"0"==n&&1/t==-s?"-0":n}},function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,o=Array(r);++n<r;)o[n]=t(e[n],n,e);return o}},function(e,t,n){var r=n(24),o=1/0;e.exports=function(e){if("string"==typeof e||r(e))return e;var t=e+"";return"0"==t&&1/e==-o?"-0":t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.ensureOptions=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(e){e&&"object"===(void 0===e?"undefined":r(e))&&"partnerId"in e&&(delete e.partnerId,console.warn("`partnerId` is deprecated in the SDKv2"))}(t),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(e){e.partnerId=i.IS_PROD?e.partnerId:u}(e),function(e){e.adv=e.adv||{},function(e){if("onAdvClose"in e&&"function"!=typeof e.onAdvClose)throw new Error('"onAdvClose" must be a function')}(e.adv)}(e),function(e){if("screen"in e&&"object"!==r(e.screen))throw new Error("Wrong screen options type");var t=e.screen||{};t=function(e){if("orientation"in e){var t=e.orientation;"string"==typeof t&&(e.orientation={value:t,lock:!0}),function(e){if("object"!==(void 0===e?"undefined":r(e)))throw new Error("Wrong orientation value");if(![null,"portrait","landscape"].includes(e.value))throw new Error('Wrong orientation value ("'+e.value+'")');if("lock"in e){if("boolean"!=typeof e.lock)throw new Error('Wrong orientation lock value ("'+e.lock+'")')}else e.lock=!0}(e.orientation)}else e.orientation={value:null,lock:!0};return e}(t=function(e){return"fullscreen"in e?function(e){if("boolean"!=typeof e)throw new Error("Wrong fullscreen value")}(e.fullscreen):e.fullscreen=!a.default.isDesktop(),e}(t)),e.screen=t}(e),e}((0,o.default)(t,e))};var o=s(n(107)),i=n(0),a=s(n(4));function s(e){return e&&e.__esModule?e:{default:e}}var u="R-I-320442-1"},function(e,t,n){var r=n(108),o=n(140)(function(e,t,n){r(e,t,n)});e.exports=o},function(e,t,n){var r=n(109),o=n(38),i=n(115),a=n(117),s=n(5),u=n(47),c=n(46);e.exports=function e(t,n,l,d,f){t!==n&&i(n,function(i,u){if(f||(f=new r),s(i))a(t,n,u,l,e,d,f);else{var p=d?d(c(t,u),i,u+"",t,n,f):void 0;void 0===p&&(p=i),o(t,u,p)}},u)}},function(e,t,n){var r=n(17),o=n(110),i=n(111),a=n(112),s=n(113),u=n(114);function c(e){var t=this.__data__=new r(e);this.size=t.size}c.prototype.clear=o,c.prototype.delete=i,c.prototype.get=a,c.prototype.has=s,c.prototype.set=u,e.exports=c},function(e,t,n){var r=n(17);e.exports=function(){this.__data__=new r,this.size=0}},function(e,t){e.exports=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}},function(e,t){e.exports=function(e){return this.__data__.get(e)}},function(e,t){e.exports=function(e){return this.__data__.has(e)}},function(e,t,n){var r=n(17),o=n(37),i=n(36),a=200;e.exports=function(e,t){var n=this.__data__;if(n instanceof r){var s=n.__data__;if(!o||s.length<a-1)return s.push([e,t]),this.size=++n.size,this;n=this.__data__=new i(s)}return n.set(e,t),this.size=n.size,this}},function(e,t,n){var r=n(116)();e.exports=r},function(e,t){e.exports=function(e){return function(t,n,r){for(var o=-1,i=Object(t),a=r(t),s=a.length;s--;){var u=a[e?s:++o];if(!1===n(i[u],u,i))break}return t}}},function(e,t,n){var r=n(38),o=n(118),i=n(119),a=n(122),s=n(123),u=n(42),c=n(11),l=n(127),d=n(44),f=n(27),p=n(5),h=n(129),_=n(45),m=n(46),v=n(133);e.exports=function(e,t,n,b,y,g,w){var x=m(e,n),k=m(t,n),S=w.get(k);if(S)r(e,n,S);else{var P=g?g(x,k,n+"",e,t,w):void 0,E=void 0===P;if(E){var O=c(k),T=!O&&d(k),I=!O&&!T&&_(k);P=k,O||T||I?c(x)?P=x:l(x)?P=a(x):T?(E=!1,P=o(k,!0)):I?(E=!1,P=i(k,!0)):P=[]:h(k)||u(k)?(P=x,u(x)?P=v(x):p(x)&&!f(x)||(P=s(k))):E=!1}E&&(w.set(k,P),y(P,k,b,g,w),w.delete(k)),r(e,n,P)}}},function(e,t,n){(function(e){var r=n(6),o="object"==typeof t&&t&&!t.nodeType&&t,i=o&&"object"==typeof e&&e&&!e.nodeType&&e,a=i&&i.exports===o?r.Buffer:void 0,s=a?a.allocUnsafe:void 0;e.exports=function(e,t){if(t)return e.slice();var n=e.length,r=s?s(n):new e.constructor(n);return e.copy(r),r}}).call(t,n(29)(e))},function(e,t,n){var r=n(120);e.exports=function(e,t){var n=t?r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}},function(e,t,n){var r=n(121);e.exports=function(e){var t=new e.constructor(e.byteLength);return new r(t).set(new r(e)),t}},function(e,t,n){var r=n(6).Uint8Array;e.exports=r},function(e,t){e.exports=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}},function(e,t,n){var r=n(124),o=n(40),i=n(41);e.exports=function(e){return"function"!=typeof e.constructor||i(e)?{}:r(o(e))}},function(e,t,n){var r=n(5),o=Object.create,i=function(){function e(){}return function(t){if(!r(t))return{};if(o)return o(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();e.exports=i},function(e,t){e.exports=function(e,t){return function(n){return e(t(n))}}},function(e,t,n){var r=n(12),o=n(7),i="[object Arguments]";e.exports=function(e){return o(e)&&r(e)==i}},function(e,t,n){var r=n(30),o=n(7);e.exports=function(e){return o(e)&&r(e)}},function(e,t){e.exports=function(){return!1}},function(e,t,n){var r=n(12),o=n(40),i=n(7),a="[object Object]",s=Function.prototype,u=Object.prototype,c=s.toString,l=u.hasOwnProperty,d=c.call(Object);e.exports=function(e){if(!i(e)||r(e)!=a)return!1;var t=o(e);if(null===t)return!0;var n=l.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&c.call(n)==d}},function(e,t,n){var r=n(12),o=n(43),i=n(7),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1,e.exports=function(e){return i(e)&&o(e.length)&&!!a[r(e)]}},function(e,t){e.exports=function(e){return function(t){return e(t)}}},function(e,t,n){(function(e){var r=n(35),o="object"==typeof t&&t&&!t.nodeType&&t,i=o&&"object"==typeof e&&e&&!e.nodeType&&e,a=i&&i.exports===o&&r.process,s=function(){try{var e=i&&i.require&&i.require("util").types;return e||a&&a.binding&&a.binding("util")}catch(e){}}();e.exports=s}).call(t,n(29)(e))},function(e,t,n){var r=n(134),o=n(47);e.exports=function(e){return r(e,o(e))}},function(e,t,n){var r=n(135),o=n(28);e.exports=function(e,t,n,i){var a=!n;n||(n={});for(var s=-1,u=t.length;++s<u;){var c=t[s],l=i?i(n[c],e[c],c,n,e):void 0;void 0===l&&(l=e[c]),a?o(n,c,l):r(n,c,l)}return n}},function(e,t,n){var r=n(28),o=n(19),i=Object.prototype.hasOwnProperty;e.exports=function(e,t,n){var a=e[t];i.call(e,t)&&o(a,n)&&(void 0!==n||t in e)||r(e,t,n)}},function(e,t,n){var r=n(137),o=n(42),i=n(11),a=n(44),s=n(48),u=n(45),c=Object.prototype.hasOwnProperty;e.exports=function(e,t){var n=i(e),l=!n&&o(e),d=!n&&!l&&a(e),f=!n&&!l&&!d&&u(e),p=n||l||d||f,h=p?r(e.length,String):[],_=h.length;for(var m in e)!t&&!c.call(e,m)||p&&("length"==m||d&&("offset"==m||"parent"==m)||f&&("buffer"==m||"byteLength"==m||"byteOffset"==m)||s(m,_))||h.push(m);return h}},function(e,t){e.exports=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}},function(e,t,n){var r=n(5),o=n(41),i=n(139),a=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return i(e);var t=o(e),n=[];for(var s in e)("constructor"!=s||!t&&a.call(e,s))&&n.push(s);return n}},function(e,t){e.exports=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}},function(e,t,n){var r=n(141),o=n(148);e.exports=function(e){return r(function(t,n){var r=-1,i=n.length,a=i>1?n[i-1]:void 0,s=i>2?n[2]:void 0;for(a=e.length>3&&"function"==typeof a?(i--,a):void 0,s&&o(n[0],n[1],s)&&(a=i<3?void 0:a,i=1),t=Object(t);++r<i;){var u=n[r];u&&e(t,u,r,a)}return t})}},function(e,t,n){var r=n(49),o=n(142),i=n(144);e.exports=function(e,t){return i(o(e,t,r),e+"")}},function(e,t,n){var r=n(143),o=Math.max;e.exports=function(e,t,n){return t=o(void 0===t?e.length-1:t,0),function(){for(var i=arguments,a=-1,s=o(i.length-t,0),u=Array(s);++a<s;)u[a]=i[t+a];a=-1;for(var c=Array(t+1);++a<t;)c[a]=i[a];return c[t]=n(u),r(e,this,c)}}},function(e,t){e.exports=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}},function(e,t,n){var r=n(145),o=n(147)(r);e.exports=o},function(e,t,n){var r=n(146),o=n(39),i=n(49),a=o?function(e,t){return o(e,"toString",{configurable:!0,enumerable:!1,value:r(t),writable:!0})}:i;e.exports=a},function(e,t){e.exports=function(e){return function(){return e}}},function(e,t){var n=800,r=16,o=Date.now;e.exports=function(e){var t=0,i=0;return function(){var a=o(),s=r-(a-i);if(i=a,s>0){if(++t>=n)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}},function(e,t,n){var r=n(19),o=n(30),i=n(48),a=n(5);e.exports=function(e,t,n){if(!a(n))return!1;var s=typeof t;return!!("number"==s?o(n)&&i(t,n.length):"string"==s&&t in n)&&r(n[t],e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=i(n(150));function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var s=i(n(1)).default.Symbol("screenManagerInstance"),u=function(){function e(t){a(this,e),this[s]=t}return r(e,[{key:"request",value:function(){return this[s]._requestFullscreen()}},{key:"exit",value:function(){return this[s]._exitFullscreen()}},{key:"toggle",value:function(){return this[s]._toggleFullscreen()}},{key:"STATUS_ON",get:function(){return"on"}},{key:"STATUS_OFF",get:function(){return"off"}},{key:"status",get:function(){return this[s]._hasFullscreenElement()?this.STATUS_ON:this.STATUS_OFF}}]),e}();t.default=function e(t){a(this,e),this[s]=new o.default(t),this.fullscreen=new u(this[s])}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=f(n(151)),i=f(n(152)),a=f(n(154)),s=n(13),u=f(n(4)),c=f(n(8)),l=n(0),d=f(n(3));function f(e){return e&&e.__esModule?e:{default:e}}function p(){return["mkVCGkzwmm","96682","96754","96757","96765","96815"].includes((0,c.default)(location)["game-id"]||"")}var h=(0,s.isYandexSearchApp)()?1e3:0,_=!0,m=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._options=t,this._screenOrientationWasLocked=!1,this._init()}return r(e,[{key:"_init",value:function(){l.IS_FRAMED?this._initMessaging():(this._overrideRequestFullScreen(),this._initScreenOrientation()),this._initFullscreen()}},{key:"_overrideRequestFullScreen",value:function(){(0,s.isYandexSearchApp)()&&this._isFullscreenEnabled()&&(p()||["webkitRequestFullScreen","webkitRequestFullscreen"].forEach(function(e){var t=HTMLElement.prototype[e];"function"==typeof t&&(HTMLElement.prototype[e]=function(){var e=this;return new Promise(function(n,r){setTimeout(function(){var o=t.call(e);o instanceof Promise&&o.then(n).catch(r)},h)})})}))}},{key:"_initFullscreen",value:function(){this._isFullscreenEnabled()&&(document.addEventListener("click",this),document.addEventListener("touchend",this),this._requestFullscreenOnInit())}},{key:"_initScreenOrientation",value:function(){this._isScreenOrientationEnabled()&&(this._screenOrientationBanner=new i.default({id:"yandex-games-orientation-rotate-banner",orientation:this._options.orientation.value}),document.addEventListener(a.default.fullscreenchange,this),this._updateScreenOrientationBanner()),o.default.isSupported&&o.default.addChangeListener(this)}},{key:"_initMessaging",value:function(){var e=this;d.default.on("screen-manager",function(){return e.onMessage.apply(e,arguments)})}},{key:"onMessage",value:function(e){var t=e.data,n=t.action,r=t.data;"fullscreenchange"===n&&(this._parentWindowInFullscreen=r.isFullscreen)}},{key:"handleEvent",value:function(e){var t=e.type;["click","touchend"].includes(t)?this._handleTouch():t===o.default.changeEventName?this._handleScreenOrientationChange():t===a.default.fullscreenchange?this._handleFullscreenChange():console.error("Unknown event '"+e.type+"'")}},{key:"_handleTouch",value:function(){this._requestFullscreen()}},{key:"_handleScreenOrientationChange",value:function(){!1===this._updateScreenOrientationBanner()&&this._requestFullscreen()}},{key:"_handleFullscreenChange",value:function(){this._hasFullscreenElement()&&this._lockScreenOrientation()}},{key:"_isFullscreenSupported",value:function(){return l.IS_FRAMED?_:Boolean(document[a.default.fullscreenEnabled])}},{key:"_isFullscreenEnabled",value:function(){return Boolean(this._options.fullscreen&&this._isFullscreenSupported())}},{key:"_hasFullscreenElement",value:function(){return Boolean(this._parentWindowInFullscreen)||Boolean(this._fullscreenElement)}},{key:"_requestFullscreenOnInit",value:function(){((0,s.isYandexBrowserApp)()||(0,s.isYandexApp)())&&this._requestFullscreen()}},{key:"_requestFullscreen",value:function(){this._isFullscreenEnabled()&&!this._hasFullscreenElement()&&(l.IS_FRAMED?this._requestFullscreenFramed():this._requestFullscreenNotFramed())}},{key:"_requestFullscreenNotFramed",value:function(){var e=this,t=document.documentElement,n=t[a.default.requestFullscreen];if(n){var r=n.call(t);r instanceof Promise?r.then(function(){return e._lockScreenOrientation()}).catch(console.error):this._lockScreenOrientation()}}},{key:"_requestFullscreenFramed",value:function(){d.default.postToParent({type:"screen-manager",action:"request-fullscreen"}).catch(function(e){_=!1,console.error(e)})}},{key:"_exitFullscreen",value:function(){this._hasFullscreenElement()&&(l.IS_FRAMED?this._exitFullscreenFramed():this._exitFullscreenNotFramed())}},{key:"_exitFullscreenNotFramed",value:function(){var e=this,t=document.documentElement,n=t[a.default.exitFullscreen];if(n){var r=n.call(t);r instanceof Promise?r.then(function(){return e._unlockScreenOrientation()}).catch(console.error):this._unlockScreenOrientation()}}},{key:"_exitFullscreenFramed",value:function(){d.default.postToParent({type:"screen-manager",action:"exit-fullscreen"}).catch(console.error)}},{key:"_toggleFullscreen",value:function(){this._hasFullscreenElement()?this._exitFullscreen():this._requestFullscreen()}},{key:"_isScreenOrientationSupported",value:function(){return!u.default.isDesktop()&&o.default.isSupported}},{key:"_isScreenOrientationEnabled",value:function(){return Boolean(this._options.orientation.value&&this._isScreenOrientationSupported())}},{key:"_addScreenOrientationBanner",value:function(){l.IS_FRAMED?d.default.postToParent({type:"screen-manager",action:"rotate-banner-add"}).catch(console.error):this._screenOrientationBanner.add()}},{key:"_removeScreenOrientationBanner",value:function(){l.IS_FRAMED?d.default.postToParent({type:"screen-manager",action:"rotate-banner-remove"}).catch(console.error):this._screenOrientationBanner.remove()}},{key:"_updateScreenOrientationBanner",value:function(){if(this._isScreenOrientationEnabled())return o.default.type.startsWith(this._options.orientation.value)?(this._removeScreenOrientationBanner(),!1):(this._addScreenOrientationBanner(),!0)}},{key:"_screenOrientationIsLockable",value:function(){return o.default.isLockable&&this._options.orientation.lock&&this._fullscreenElement&&this._isScreenOrientationEnabled()}},{key:"_lockScreenOrientation",value:function(){var e=this;this._screenOrientationIsLockable()&&o.default.lock(this._options.orientation.value).then(function(){e._screenOrientationWasLocked=!0,e._updateScreenOrientationBanner()}).catch(function(t){console.error(t),e._updateScreenOrientationBanner()})}},{key:"_unlockScreenOrientation",value:function(){this._screenOrientationWasLocked&&o.default.unlock().catch(function(e){console.error(e)})}},{key:"_fullscreenElement",get:function(){return document[a.default.fullscreenElement]}}]),e}();t.default=m},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={get isSupported(){var e=!1,t=window.screen.orientation;return e=t?Boolean(t.type&&"function"==typeof t.lock):"number"==typeof window.orientation,delete this.isSupported,this.isSupported=e},addChangeListener:function(e){var t=window.screen.orientation;t?t.addEventListener("change",e):window.addEventListener("orientationchange",e)},get changeEventName(){return window.screen.orientation?"change":"orientationchange"},get isLockable(){var e=window.screen.orientation;return Boolean(e&&"function"==typeof e.lock)},lock:function(e){if(!this.isLockable)throw new Error("Screen orientation lock is not supported.");var t=window.screen.orientation.lock(e);return t instanceof Promise?t:Promise.resolve(t)},unlock:function(){if(!this.isLockable)throw new Error("Screen orientation lock is not supported.");var e=window.screen.orientation.unlock();return e instanceof Promise?e:Promise.resolve(e)},get type(){if(!this.isSupported)throw new Error("Screen orientation is not supported.");var e=window.screen.orientation;return e?e.type:90===Math.abs(window.orientation)?"landscape":"portrait"}};t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(e){return e&&e.__esModule?e:{default:e}}(n(153));var i=function(){function e(t){var n=t.id,r=t.orientation;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._id=n,this._orientation=r}return r(e,[{key:"add",value:function(){this.added||(this._addStyles(),this._addElement())}},{key:"remove",value:function(){var e=this.element;e&&e.parentNode.removeChild(e)}},{key:"_addStyles",value:function(){var e=document.createElement("style");e.textContent="\n#"+this._id+" {\n    position: fixed !important;\n    z-index: 2147483646 !important;\n    top: 0 !important;\n    bottom: 0 !important;\n    left: 0 !important;\n    right: 0 !important;\n    background: #fff !important;\n    color: #000 !important;\n    display: flex !important;\n    align-items: center !important;\n    justify-content: center !important;\n    flex-direction: column !important;\n}\n\n#"+this._id+" > div {\n    padding: 0 0 "+("landscape"===this._orientation?"15":"5")+"% 0 !important;\n    text-align: center !important;\n    font-family: Helvetica, Arial !important;\n    font-size: 1.1em !important;\n    line-height: 1.6em !important;\n}\n\n#"+this._id+" > img {\n    max-height: 50% !important;\n\n    transform: rotate("+("landscape"===this._orientation?"0":"270deg")+") !important;\n}\n",document.head.appendChild(e)}},{key:"_addElement",value:function(){var e=document.createElement("div");e.setAttribute("id",this._id),e.appendChild(this._elementTextNode),e.appendChild(this._elementImageNode),document.body.appendChild(e)}},{key:"element",get:function(){return document.getElementById(this._id)}},{key:"added",get:function(){return Boolean(this.element)}},{key:"_elementTextNode",get:function(){var e=document.createElement("div");return e.innerText="Чтобы продолжить,\nповерните ваше устройство",e}},{key:"_elementImageNode",get:function(){var e=document.createElement("img");return e.setAttribute("src",o.default),e}}]),e}();t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQwIiBoZWlnaHQ9IjI0MCIgdmlld0JveD0iMCAwIDI0MCAyNDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHJlY3QgeD0iMjIuNjk4NyIgeT0iMjguNjk4NyIgd2lkdGg9IjkwLjgyNzgiIGhlaWdodD0iMTYzLjQ5IiByeD0iMTMuMjc0OCIgZmlsbD0iI0ZBRkFGQSIgc3Ryb2tlPSIjOTY5NTk1IiBzdHJva2Utd2lkdGg9IjEuMzk3MzUiLz48cmVjdCB4PSI2MS4xMjU5IiB5PSIzNC45ODY4IiB3aWR0aD0iMTMuOTczNSIgaGVpZ2h0PSIxLjM5NzM1IiByeD0iMC42OTg2NzYiIGZpbGw9IiNDNEM0QzQiLz48cmVjdCB4PSIyOS42ODU0IiB5PSI0MS4yNzQ4IiB3aWR0aD0iNzYuODU0MyIgaGVpZ2h0PSIxMzguMzM4IiByeD0iNy42ODU0MyIgZmlsbD0iI0ZBRkFGQSIgc3Ryb2tlPSIjQ0VDRUNFIiBzdHJva2Utd2lkdGg9IjEuMzk3MzUiLz48cmVjdCB4PSIyMzIuMzAxIiB5PSIxMTUuMzM0IiB3aWR0aD0iOTAuODI3OCIgaGVpZ2h0PSIxNjMuNDkiIHJ4PSIxMy4yNzQ4IiB0cmFuc2Zvcm09InJvdGF0ZSg5MCAyMzIuMzAxIDExNS4zMzQpIiBmaWxsPSIjRkFGQUZBIiBzdHJva2U9IiM5Njk1OTUiIHN0cm9rZS13aWR0aD0iMS4zOTczNSIvPjxyZWN0IHg9IjIyNi4wMTMiIHk9IjE1My43NjIiIHdpZHRoPSIxMy45NzM1IiBoZWlnaHQ9IjEuMzk3MzUiIHJ4PSIwLjY5ODY3NiIgdHJhbnNmb3JtPSJyb3RhdGUoOTAgMjI2LjAxMyAxNTMuNzYyKSIgZmlsbD0iI0M0QzRDNCIvPjxyZWN0IHg9IjIxOS43MjUiIHk9IjEyMi4zMjEiIHdpZHRoPSI3Ni44NTQzIiBoZWlnaHQ9IjEzOC4zMzgiIHJ4PSI3LjY4NTQzIiB0cmFuc2Zvcm09InJvdGF0ZSg5MCAyMTkuNzI1IDEyMi4zMjEpIiBmaWxsPSIjRkFGQUZBIiBzdHJva2U9IiNDRUNFQ0UiIHN0cm9rZS13aWR0aD0iMS4zOTczNSIvPjxwYXRoIGQ9Ik0xMjkgNDRDMTY1LjUgNDIuNSAyMDEuNTYgNDUuODg2MSAyMDEuNTYgOTcuODY3NSIgc3Ryb2tlPSJibGFjayIgc3Ryb2tlLXdpZHRoPSIxLjM5NzM1Ii8+PHBhdGggZD0iTTIwMC4zMTEgOTcuMjY3OEwxOTUuOTA5IDkwLjIyNDFDMTk1LjMyNyA4OS4yOTM0IDE5NS45OTcgODguMDg2MSAxOTcuMDk0IDg4LjA4NjFIMjA1LjQ1OEMyMDYuNTI3IDg4LjA4NjEgMjA3LjIgODkuMjM3MSAyMDYuNjc2IDkwLjE2ODVMMjAyLjcxNCA5Ny4yMTIzQzIwMi4xOTQgOTguMTM3IDIwMC44NzQgOTguMTY3NSAyMDAuMzExIDk3LjI2NzhaIiBmaWxsPSJibGFjayIvPjwvc3ZnPg=="},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={fullscreenEnabled:["fullscreenEnabled","webkitFullscreenEnabled","mozFullScreenEnabled"],fullscreenElement:["fullscreenElement","webkitFullscreenElement","mozFullscreenElement"],requestFullscreen:["requestFullscreen","webkitRequestFullscreen","mozRequestFullscreen"],exitFullscreen:["exitFullscreen","webkitExitFullscreen","mozExitFullscreen"],fullscreenchange:["fullscreenchange","webkitfullscreenchange","mozfullscreenchange"]};function o(e){var t=!0,n=!1,o=void 0;try{for(var i,a=r[e][Symbol.iterator]();!(t=(i=a.next()).done);t=!0){var s=i.value;if(s in document)return s}}catch(e){n=!0,o=e}finally{try{!t&&a.return&&a.return()}finally{if(n)throw o}}return e}var i={fullscreenEnabled:o("fullscreenEnabled"),fullscreenElement:o("fullscreenElement"),requestFullscreen:o("requestFullscreen"),exitFullscreen:o("exitFullscreen"),fullscreenchange:o("fullscreenchange")};t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=u(n(156)),i=u(n(160)),a=u(n(1)),s=n(0);function u(e){return e&&e.__esModule?e:{default:e}}var c=a.default.Symbol("advManagerInstance"),l=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];s.IS_FRAMED?this[c]=new(Function.prototype.bind.apply(i.default,[null].concat(n))):this[c]=new(Function.prototype.bind.apply(o.default,[null].concat(n)))}return r(e,[{key:"showFullscreenAdv",value:function(){var e;return(e=this[c]).showFullscreenAdv.apply(e,arguments),this}}]),e}();t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(50),i=n(21),a=n(159),s=n(52),u=n(31);var c=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.advSdkReady=null,this.callbacks=[],this.lastShowTime=0,this.startTime=Date.now(),o.initProperties.call(this,t),o.initAdv.call(this),a.insertStyles.call(this),o.initModal.call(this),this.viewType===i.viewTypes.fullscreen&&o.initAdvHeightHandler.call(this)}return r(e,[{key:"showFullscreenAdv",value:function(){var e=this,t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).callbacks,n=void 0===t?{}:t;s.addCallbacks.call(this,n,i.showFullscreenAdvCallbackNames);return s.errorDecorator.call(this,function(){u.canOpenAdv.call(e)?(u.showAdvContainer.call(e),null!==e.advSdkReady&&u.renderAdv.call(e)):u.callOnAdvClose.call(e)},"Please, send this error sdk developers: ",function(t){e.callbacks.onError(t),u.callOnAdvClose.call(e)})(),this}}]),e}();t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getCssClasses=function(){var e=this,t="modal_view-type_"+this.viewType,n=function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}({modal:"modal",modal_visible:"modal_visible",modal__close:"modal__close",modal__content:"modal_content",modal__wrap:"modal__wrap","modal__content_search-application":"modal__content_search-application","modal__close_search-application":"modal__close_search-application"},t,t),r={yandexAdaptive:"yandex-adaptive"};return Object.keys(n).forEach(function(t){r[t]=n[t]+"-"+e.partnerId}),r}},function(e,t,n){"use strict";t.offlineCategoryName="offline",t.mainFeedCategoryName="common",t.playedCategoryName="played",t.anotherCategoryName="another",t.listTypes={categorized:"categorized",suggested:"suggested",other:"other",played:"played",tabs:"tabs",adv:"adv"},t.envValues={sa:"sa",bro:"bro"},t.VERTICAL_BLOCKS_PORTION=3,t.tabParamName="currentTab",t.appIDParamName="appID",t.appPathnameExp="/app/:appID",t.platformTypes={desktop_other:"desktop_other",android_yabro:"android_yabro",android_yasearch:"android_yasearch",android_other:"android_other",ios_other:"ios_other",mobile_other:"mobile_other"},t.deviceTypes={desktop:"desktop",mobile:"mobile",tablet:"tablet"},t.gameCardSizes={page_icon_mobile:"page_icon_mobile",page_icon_desktop:"page_icon_desktop",page_scrolled_icon_mobile:"page_scrolled_icon_mobile",your_games:"your_games",l:"l",m:"m",s:"s",premium:"premium",normal_icon:"normal_icon",small_icon:"small_icon"},t.toOldCardSizeMapping={premium:"desktop268x268",normal_icon:"desktop132x132",small_icon:"desktop84x84"},t.colorSchemes={dark:"dark",light:"light"},t.experimentNames={darkSideMobileExp:"dark-side-mobile-exp",addToHomeScreenExp:"add-to-home-screen-exp",gamePageOpeningExpValues:"game-page-opening-exp",ratingDialogIntervalExp:"rating-dialog-interval-exp",gameIframe:"game-iframe"},t.gamePageOpeningExpValues={noClicks:"no-clicks",allClicks:"all-clicks",specialClicks:"special-clicks"},t.ratingDialogIntervalExpValues={oneMinute:"one-minute",fiveMinutes:"five-minutes"},t.addToHomeScreen={scenarios:{off:"off",firstScenario:"firstScenario"},times:{off:void 0,firstScenario:1},period:{off:void 0,firstScenario:1}},t.dayToMilliseconds=864e5,t.secondToMilliseconds=1e3,t.minuteToMilliseconds=6e4;var r={key:"from",value:"homescreen_icon"};t.manifestTemplate={queryParameter:r,commonFields:{background_color:"white",display:"standalone",icons:[{name:"android-icon-48x48.png",sizes:"48x48",type:"image/png",density:"1.0"},{name:"android-icon-192x192.png",sizes:"192x192",type:"image/png",density:"4.0"},{name:"android-icon-512x512.png",sizes:"512x512",type:"image/png"}],start_url:"/games/?"+r.key+"="+r.value},langToUniqFields:{ru:{description:"Коллекция игр",name:"Яндекс.Игры",short_name:"Игры"},en:{description:"Collection of games",name:"Yandex.Games",short_name:"Games"}}},t.metrikaCounters={rtx:49035923}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.insertStyles=function(){var e=document.createElement("style");e.setAttribute("type","text/css"),e.innerText=function(){return"\n."+this.cssClasses.modal+" {\n    position: fixed;\n    top: 0;\n    left: 0;\n    width: 100vw;\n    height: 100vh;\n    background-color: #000;\n    display: none;\n    z-index: 2147483647;\n    overflow: hidden;\n    box-sizing: content-box;\n}\n."+this.cssClasses.modal_visible+" {\n    display: block;\n}\n."+this.cssClasses.modal__content+" {\n    position: absolute;\n    top: 70px;\n    bottom: 140px;\n    left: 30px;\n    right: 30px;\n    overflow: hidden;\n    box-sizing: content-box;\n}\n."+this.cssClasses.modal__close+" {\n    position: absolute;\n\n    left: 30px;\n    right: 30px;\n    bottom: 100px;\n\n    margin: 0;\n    padding: 0;\n    border: 0;\n\n    font-family: -apple-system,\n        BlinkMacSystemFont,\n        'Segoe UI',\n        Roboto,\n        Helvetica,\n        Arial,\n        sans-serif;\n    font-size: 16px;\n    line-height: 44px;\n    color: #0078d7;\n    text-align: center;\n    cursor: pointer;\n\n    background-color: #fff;\n}\n."+this.cssClasses.modal__close+"."+this.cssClasses["modal__close_search-application"]+" {\n    padding-bottom: 44px;\n}\n."+this.cssClasses.modal__close+"::before {\n    position: absolute;\n    top: 20px;\n    right: 20px;\n    opacity: 0;\n\n    transition: opacity .3s;\n}\n\n."+this.cssClasses.modal_visible+" ."+this.cssClasses.modal__close+"::before {\n    opacity: 1;\n    transition-delay: 3s;\n}\n\n/* Стили для viewType=fullscreen */\n."+this.cssClasses.modal+"."+this.cssClasses["modal_view-type_fullscreen"]+" {\n    height: 100vh;\n    height: calc(var(--vh, 1vh) * 100);\n}\n."+this.cssClasses["modal_view-type_fullscreen"]+" ."+this.cssClasses.modal__content+" {\n    width: 100%;\n\n    top: 0;\n    right: 0;\n    left: 0;\n    bottom: 44px;\n}\n."+this.cssClasses["modal_view-type_fullscreen"]+" ."+this.cssClasses.modal__content+"."+this.cssClasses["modal__content_search-application"]+" {\n   bottom: 88px;\n}\n."+this.cssClasses["modal_view-type_fullscreen"]+" ."+this.cssClasses.modal__close+" {\n    right: 0;\n    left: 0;\n    bottom: 0;\n}\n\n/* Стили для viewType=desktop */\n."+this.cssClasses.modal+"."+this.cssClasses["modal_view-type_desktop"]+" {\n    justify-content: center;\n    align-items: center;\n\n    background-color: rgba(0, 0, 0, 0.7);\n}\n."+this.cssClasses["modal_view-type_desktop"]+"."+this.cssClasses.modal_visible+" {\n    display: flex;\n}\n."+this.cssClasses["modal_view-type_desktop"]+" ."+this.cssClasses.modal__content+" {\n    position: absolute;\n    top: auto;\n    bottom: auto;\n\n    width: 62%;\n    height: 53%;\n\n    margin: auto;\n    padding: 100% 0;\n\n}\n\n."+this.cssClasses["modal_view-type_desktop"]+"  ."+this.cssClasses.modal__close+" {\n    position: absolute;\n\n    bottom: calc(76.5% + 10px);\n    left: calc(81% + 10px);\n    right: auto;\n\n    margin: 0;\n    padding: 0;\n    border: 0;\n\n    width: 36px;\n    height: 36px;\n\n    cursor: pointer;\n\n    background-color: transparent;\n}\n\n@media screen and (min-width: 1652px) {\n    ."+this.cssClasses["modal_view-type_desktop"]+" ."+this.cssClasses.modal__content+" {\n        width: 1024px;\n    }\n\n    ."+this.cssClasses["modal_view-type_desktop"]+"  ."+this.cssClasses.modal__close+" {\n        left: calc(((100% - 1024px) / 2) + 1034px);\n    }\n}\n\n@media screen and (min-height: 1932px) {\n    ."+this.cssClasses["modal_view-type_desktop"]+" ."+this.cssClasses.modal__content+" {\n        height: 1024px;\n    }\n\n    ."+this.cssClasses["modal_view-type_desktop"]+"  ."+this.cssClasses.modal__close+" {\n        bottom: calc(((100% - 1024px) / 2) + 1034px);\n    }\n}\n\n."+this.cssClasses["modal_view-type_desktop"]+"  ."+this.cssClasses.modal__close+"::before {\n    position: absolute;\n\n    right: 18px;\n    top: 0;\n\n    transition: opacity .3s;\n\n    background-color: #fff;\n    height: 36px;\n    width: 2px;\n\n    transform: rotate(-135deg);\n\n    opacity: 1;\n\n    content: '';\n}\n\n."+this.cssClasses["modal_view-type_desktop"]+" ."+this.cssClasses.modal__close+"::after {\n    position: absolute;\n\n    right: 18px;\n    top: 0;\n\n    transition: opacity .3s;\n\n    background-color: #fff;\n    height: 36px;\n    width: 2px;\n\n    transform: rotate(-45deg);\n\n    opacity: 1;\n\n    content: '';\n}\n\n."+this.cssClasses.modal__wrap+" {\n    display: flex;\n\n    position: relative;\n\n    width: 100%;\n    height: 100%;\n\n    justify-content: center;\n    align-items: center;\n}\n\n"}.call(this),document.head.appendChild(e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(50),i=n(21),a=n(52),s=n(31),u=function(e){return e&&e.__esModule?e:{default:e}}(n(3));var c=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.advSdkReady=null,this.callbacks=[],this.lastShowTime=0,this.startTime=Date.now(),o.initProperties.call(this,t),u.default.on("adv-manager",function(e){switch(e.data.action){case"adv-callback-open":n.callbacks.onOpen();break;case"adv-callback-close":n.lastShowTime=Date.now(),n._hideAdv(e.data.data.wasShown);break;case"adv-callback-error":n._hideAdv(e.data.data.wasShown),n.callbacks.onError(e.data.data.error);break;case"adv-callback-offline":n._hideAdv(e.data.data.wasShown),n.callbacks.onOffline()}})}return r(e,[{key:"showFullscreenAdv",value:function(){var e=this,t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).callbacks,n=void 0===t?{}:t;return a.addCallbacks.call(this,n,i.showFullscreenAdvCallbackNames),s.canOpenAdv.call(this)?(u.default.postToParent({type:"adv-manager",action:"adv-show-fullscreen"}).catch(function(t){console.error("Please, send this error sdk developers: "+t),e.callbacks.onError(t),e._hideAdv()}),this):(s.callOnAdvClose.call(this),this)}},{key:"_hideAdv",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];s.callOnAdvClose.call(this,e),this.lastShowTime=Date.now()}}]),e}();t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(e){return e&&e.__esModule?e:{default:e}}(n(3));var i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return r(e,[{key:"openAuthDialog",value:function(){return o.default.postToParent({type:"auth",action:"auth-dialog-open"})}}]),e}();t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=c(n(54)),i=c(n(14)),a=c(n(163)),s=c(n(4)),u=n(2);function c(e){return e&&e.__esModule?e:{default:e}}var l=c(n(1)).default.Symbol("authPromises"),d=s.default.isMobile()||s.default.isTablet()?"mobile":"desktop";var f=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),window.addEventListener("message",this),this[l]=null}return r(e,[{key:"openAuthDialog",value:function(){var e=this;return this._rejectCurrentAuthProcess(),(0,o.default)("open"),new Promise(function(t,n){e._openAuthDialog().then(function(){(0,o.default)("success"),t.apply(void 0,arguments)}).catch(function(e){e instanceof i.default&&"AUTH_DIALOG_CANCEL"===e.code||(0,o.default)("fail"),n(e)})})}},{key:"_openAuthDialog",value:function(){var e=this,t=function(){var e=window.YandexApplicationsAPIBackend;if(e&&"function"==typeof e.openAuthDialog&&"function"==typeof e.on)return new Promise(function(t,n){(0,o.default)("okAuto"),window.yandexSDKOnAuthFinished=function(e){e?t():n(new i.default({code:"AUTH_DIALOG_CANCEL",message:"User canceled auth dialog."}))},e.openAuthDialog("light","games"),e.on("EVENT_AUTH_FINISHED","window.yandexSDKOnAuthFinished")})}();if(t)return t;var n=Date.now(),r=n+"-"+Math.ceil(1e6*Math.random()),s=(0,u.replaceSDKHost)("https://dex.ru/games/sdk/static/auth-retpath.html?req-id="+encodeURIComponent(r)+"&origin="+encodeURIComponent(window.origin));return new Promise(function(t,o){(function(e){return new Promise(function(t,n){new a.default({retpath:e,platform:d}).open().then(t).catch(n)})})(s).then(function(a){var s=setInterval(function(){a.opener||(u(),o(new i.default({message:"Can not find auth window opener.",code:"AUTH_WINDOW_REJECTED"})))},1e3);function u(){if(window.clearInterval(s),a){try{a.close()}catch(e){console.error(e)}a=null}}var c={resolve:function(){u(),t.apply(void 0,arguments)},reject:function(e){u(),o(e)}};e[l]={promise:c,timestamp:n,requestId:r,authWindow:a}}).catch(o)})}},{key:"_rejectCurrentAuthProcess",value:function(){this[l]&&this[l].promise.reject(new i.default({message:"Auth timeout.",code:"AUTH_TIMEOUT"}))}},{key:"handleEvent",value:function(e){(function(e){if(!function(e){return/^https?:\/\/((.+\.)*yandex\.ru|app-([^.]+)\.games\.s3\.yandex\.net)$/.test(e)}(e.origin))return!1;if(!e.data)return!1;var t=e.data,n=t.source;return!(!t.requestId||"YandexAuth"!==n)})(e)&&this._handleAuthEvent(e)}},{key:"_handleAuthEvent",value:function(e){var t=this[l];if(t&&t.requestId===e.data.requestId){t.promise.resolve();try{t.authWindow.close()}catch(e){console.error(e)}}}}]),e}();t.default=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=(c(n(164)),c(n(14))),i=c(n(54)),a=c(n(1)),s=c(n(55)),u=n(22);function c(e){return e&&e.__esModule?e:{default:e}}var l=a.default.Symbol("OpenPromise"),d=a.default.Symbol("DialogElement"),f=function(){function e(t){var n=t.retpath,r=t.platform;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._retpath=n,this._platform=r,this[l]=null,this[d]=null}return r(e,[{key:"open",value:function(){return s.default.isDialogSupport()?(this[d]=document.createElement("auth-dialog"),this[d].setAttribute("platform",this._platform),this[d].setAttribute("size","normal"),document.body.appendChild(this[d]),this[d].addEventListener("close",this),this[d].addEventListener("auth",this),this._setPromise(),this[l].promise):Promise.reject(new Error("Unsupported browser"))}},{key:"_setSize",value:function(e){this[d]&&this[d].setAttribute("size",e)}},{key:"_setPromise",value:function(){if(!this[l]){var e=null,t=null,n=new Promise(function(n,r){e=n,t=r});this[l]={promise:n,resolve:e,reject:t}}}},{key:"_resolvePromise",value:function(e){this[l]&&(this[l].resolve(e),this[l]=null)}},{key:"_rejectPromise",value:function(e){this[l]&&(this[l].reject(e),this[l]=null)}},{key:"close",value:function(){this[d]&&(this[d].removeEventListener("close",this),this[d].removeEventListener("auth",this),this[d].parentNode.removeChild(this[d]),this[d]=null),this._rejectPromise(new o.default({code:"AUTH_DIALOG_CANCEL",message:"User canceled auth dialog."}))}},{key:"pendingClose",value:function(){var e=this;setTimeout(function(){return e.close()},1e3)}},{key:"_openAuthWindow",value:function(){var e="https://"+u.PASSPORT_HOST+"/auth?from=game&retpath="+encodeURIComponent(this._retpath),t=window.open(e,"_blank");t?this._resolvePromise(t):this._rejectPromise(new o.default({message:"Can not open auth window.",code:"AUTH_WINDOW_REJECTED"})),this.close()}},{key:"handleEvent",value:function(e){if(e.target===this[d]){if("close"===e.type)return(0,i.default)("cancel"),void this.close();if("auth"===e.type)return(0,i.default)("ok"),void this._openAuthWindow()}}}]),e}();t.default=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=i(n(165));function i(e){return e&&e.__esModule?e:{default:e}}i(n(1)).default.setup();var a=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,HTMLElement),r(t,[{key:"connectedCallback",value:function(){var e=(0,o.default)(this.getAttribute("platform")).content;this.attachShadow({mode:"open"}).appendChild(e.cloneNode(!0)),this._addEventListeners()}},{key:"_addEventListeners",value:function(){var e=this,t=this.shadowRoot.querySelectorAll(".close"),n=!0,r=!1,o=void 0;try{for(var i,a=t[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){i.value.addEventListener("click",function(){e.dispatchEvent(new Event("close"))})}}catch(e){r=!0,o=e}finally{try{!n&&a.return&&a.return()}finally{if(r)throw o}}this.shadowRoot.querySelector('button[type="submit"]').addEventListener("click",function(){e.dispatchEvent(new Event("auth"))})}}]),t}();window.customElements?customElements.define("auth-dialog",a):document.registerElement&&(a.prototype.attachedCallback=function(){this.connectedCallback()},document.registerElement("auth-dialog",{prototype:a.prototype})),t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=document.createElement("template");return t.innerHTML="\n<style>\n    @font-face {\n        font-family: 'YS Text';\n        font-weight: normal;\n        font-style: normal;\n\n        src: url('https://yastatic.net/islands/_/KRBKbh7904nwfw8-FzDelXRpZ9o.woff2') format('woff2');\n    }\n\n    @font-face {\n        font-family: 'YS Text';\n        font-weight: 500;\n        font-style: normal;\n        font-stretch: normal;\n\n        src: url('https://yastatic.net/islands/_/_Ocpq376VVJdR5aDIq4WkfWF6Gg.woff2') format('woff2');\n    }\n\n    @font-face {\n        font-family: 'YS Text';\n        font-weight: bold;\n        font-style: normal;\n\n        src: url('https://yastatic.net/islands/_/TR2STky64Ra69XlYzqKN7cnjYfQ.woff2') format('woff2');\n    }\n\n    :host {\n        position: fixed;\n        top: 0;\n        bottom: 0;\n        left: 0;\n        right: 0;\n\n        z-index: 2147483647;\n\n        display: flex;\n        justify-content: center;\n        flex-direction: column;\n        align-items: center;\n\n        background: rgba(256,256,256,0.95);\n\n        font-family: 'YS Text', Helvetica, Arial, sans-serif;\n        font-size: 18px;\n        line-height: 24px;\n    }\n\n    .content {\n        box-shadow: 0 8px 14px rgba(14, 21, 47, .1),\n                0 2px 36px rgba(14, 21, 47, .08);\n\n        display: flex;\n        flex-direction: column;\n\n        color: #000;\n        background-color: #fff;\n        position: relative;\n    }\n\n    .header {\n        display: flex;\n        flex-direction: row;\n\n        border-bottom: 2px solid #ededed;\n    }\n\n    .cross {\n        position: absolute;\n        top: 0;\n        right: 0;\n\n        color: #999;\n    }\n\n    .cross:hover {\n        color: #000;\n    }\n\n    .cross svg {\n        fill: currentColor;\n        position: absolute;\n        top: 50%;\n        left: 50%;\n        transform: translate(-50%, -50%);\n    }\n\n    .image-wrapper {\n        border: 1px solid rgba(0, 0, 0, 0.2);\n        border-radius: 18px;\n        box-sizing: border-box;\n        overflow: hidden;\n\n        display: flex;\n        justify-content: center;\n        flex-direction: column;\n        align-items: center;\n    }\n\n    .details-wrapper {\n        flex: 1;\n        overflow: hidden;\n    }\n\n    .subtitle {\n        color: #999;\n        padding-left: 1px;\n    }\n\n    .title {\n        white-space: nowrap;\n        overflow: hidden;\n        text-overflow: ellipsis;\n    }\n\n    .separator {\n        opacity: 0.1;\n        border-bottom: 1px solid #000;\n        height: 0;\n    }\n\n    .description {\n        padding-left: 1px;\n        overflow: hidden;\n        display: -webkit-box;\n        -webkit-line-clamp: 3;\n        -webkit-box-orient: vertical;\n    }\n\n    .frame-wrapper {\n        flex: 1;\n\n        display: flex;\n        flex-direction: column;\n        position: relative;\n    }\n\n    .frame {\n        flex: 1;\n\n        display: flex;\n        justify-content: center;\n        flex-direction: row;\n        text-align: center;\n        align-items: center;\n    }\n\n    "+("desktop"===e?'\n    .content {\n        width: 50%;\n        min-width: 500px;\n        height: 50%;\n        min-height: 360px;\n\n        font-size: 26px;\n        line-height: 30px;\n    }\n\n    :host([size="large"]) .content {\n        height: 94%;\n        transition: height 0.5s ease-in;\n    }\n\n    .header {\n        padding: 44px 44px 42px 44px;\n    }\n\n    .cross {\n        width: 40px;\n        height: 40px;\n    }\n\n    .cross svg {\n        width: 20px;\n        height: 20px;\n    }\n\n    .image-wrapper {\n        width: 144px;\n        height: 144px;\n        min-width: 144px;\n        min-height: 144px;\n        margin-right: 22px;\n    }\n\n    .image-wrapper > img {\n        max-width: 144px;\n        max-height: 144px;\n    }\n\n    .subtitle {\n        font-size: 18px;\n        line-height: 21px;\n        margin-top: -4px;\n        margin-bottom: 12px;\n    }\n\n    .separator {\n        margin: 8px 0px 9px 2px;\n    }\n\n    .description {\n        font-size: 18px;\n        line-height: 24px;\n        margin-top: 6px;\n        max-height: 72px;\n    }\n':'\n    .content {\n        width: 96%;\n        min-width: 270px;\n        height: 50%;\n        min-height: 200px;\n\n        font-size: 13px;\n        line-height: 15px;\n    }\n\n    :host([size="large"]) .content {\n        height: 94%;\n        transition: height 0.5s ease-in;\n    }\n\n    .header {\n        padding: 20px 20px 37px 20px;\n    }\n\n    .cross {\n        width: 28px;\n        height: 28px;\n    }\n\n    .cross svg {\n        width: 14px;\n        height: 14px;\n    }\n\n    .image-wrapper {\n        width: 66px;\n        height: 66px;\n        min-width: 66px;\n        min-height: 66px;\n        margin-right: 14px;\n    }\n\n    .image-wrapper > img {\n        max-width: 66px;\n        max-height: 66px;\n    }\n\n    .subtitle {\n        font-size: 11px;\n        line-height: 13px;\n        margin-top: -2px;\n        margin-bottom: 6px;\n    }\n\n    .separator {\n        margin: 6px 0 4px 0;\n    }\n\n    .description {\n        font-size: 11px;\n        line-height: 14px;\n        margin-top: 3px;\n        max-height: 42px;\n    }\n')+"\n\n    "+r.legoStyles.button+'\n\n    .button2 {\n        margin: 0 0.5em;\n    }\n</style>\n<div class="content">\n    <div\n        class="close cross"\n        title="Закрыть">\n            <svg focusable="false" xmlns="http://www.w3.org/2000/svg" width="0" height="0" viewBox="0 0 14 14">\n                <polygon points="14,0.7 13.3,0 7,6.3 0.7,0 0,0.7 6.3,7 0,13.3 0.7,14 7,7.7 13.3,14 14,13.3 7.7,7"></polygon>\n            </svg>\n        </div>\n    <div class="header">\n        <div class="image-wrapper">\n            <img\n                class="image"\n                src="//yastatic.net/iconostasis/_/KnU823iWwj_vrPra7x9aQ-4yjRw.png"\n                />\n        </div>\n        <div class="details-wrapper">\n            <div class="title">Авторизация</div>\n            <div class="separator"></div>\n            <div class="description">Для продолжения работы необходима авторизация в&#160;Яндекс.Паспорте</div>\n        </div>\n    </div>\n    <div class="frame-wrapper">\n        <div class="frame">\n            <button\n                type="submit"\n                aria-disabled="false"\n                class="control button2 button2_view_classic button2_size_l button2_theme_action button2_type_submit">\n                <span class="button2__text">\n                    Авторизоваться\n                </span>\n            </button>\n            <button\n                type="button"\n                aria-disabled="false"\n                class="close control button2 button2_view_classic button2_size_l button2_theme_normal">\n                <span class="button2__text">\n                    Отмена\n                </span>\n            </button>\n        </div>\n    </div>\n</div>\n    ',t};var r=n(166)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.legoStyles=void 0;var r={button:function(e){return e&&e.__esModule?e:{default:e}}(n(167)).default};t.legoStyles=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default='\n.button2__text {\n    position: relative;\n    display: inline-block;\n    resize: none;\n    white-space: nowrap;\n    pointer-events: none\n}\n\n.button2 .button2__icon {\n    position: relative;\n    pointer-events: none\n}\n\n.button2 .button2__icon_side_left {\n    position: absolute;\n    top: 0;\n    left: 0\n}\n\n.button2 .button2__icon_side_right {\n    position: absolute;\n    top: 0;\n    right: 0\n}\n\n.button2__control {\n    display: none\n}\n\n.button2 {\n    display: inline-block;\n    overflow: visible;\n    -webkit-box-sizing: border-box;\n    box-sizing: border-box;\n    margin: 0;\n    padding: 0;\n    font-family: Helvetica Neue,Helvetica,Arial,sans-serif;\n    -moz-user-focus: ignore;\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    -ms-user-select: none;\n    user-select: none;\n    text-align: center;\n    white-space: nowrap;\n    text-decoration: none;\n    background: transparent;\n    -webkit-tap-highlight-color: rgba(0,0,0,0);\n    -ms-touch-action: manipulation;\n    touch-action: manipulation\n}\n\n.button2[aria-disabled=true],.button2_disabled_yes {\n    pointer-events: none\n}\n\n.button2::-moz-focus-inner {\n    padding: 0;\n    border: 0\n}\n\n.button2:before {\n    position: absolute;\n    z-index: -1;\n    top: 0;\n    right: 0;\n    bottom: 0;\n    left: 0;\n    content: ""\n}\n\n.button2 {\n    cursor: pointer\n}\n\n.button2[aria-disabled=true],.button2_disabled_yes {\n    cursor: default\n}\n\n.button2_theme_normal {\n    position: relative;\n    z-index: 0;\n    color: #000;\n    border: none;\n    outline: none\n}\n\n.button2_view_classic.button2_theme_normal:before {\n    border: 1px solid rgba(0,0,0,.2);\n    border-radius: 3px;\n    background-color: #fff;\n    background-clip: padding-box\n}\n\n.button2_view_classic.button2_theme_normal.button2_pressed_yes:before,.button2_view_classic.button2_theme_normal:not([aria-disabled=true]):active:before {\n    background-color: #f3f1ed\n}\n\n.button2_view_classic.button2_theme_normal.button2_checked_yes:before {\n    border-color: rgba(153,122,0,.5);\n    background-color: #ffeba0\n}\n\n.button2_view_classic.button2_theme_normal.button2_checked_yes.button2_pressed_yes:before,.button2_view_classic.button2_theme_normal.button2_checked_yes:not([aria-disabled=true]):active:before {\n    border-color: rgba(129,103,0,.6);\n    background-color: #fee481\n}\n\n.button2_view_classic.button2_theme_normal.button2_disabled_yes:before,.button2_view_classic.button2_theme_normal[aria-disabled=true]:before {\n    border-color: rgba(0,0,0,.08);\n    background-color: rgba(0,0,0,.08)\n}\n\n.button2_view_classic.button2_theme_normal.button2_disabled_yes.button2_checked_yes:before,.button2_view_classic.button2_theme_normal[aria-disabled=true].button2_checked_yes:before {\n    border-color: rgba(0,0,0,.15);\n    background-color: rgba(0,0,0,.15)\n}\n\n.button2_theme_normal.button2_disabled_yes .button2__icon,.button2_theme_normal.button2_disabled_yes .button2__text,.button2_theme_normal[aria-disabled=true] .button2__icon,.button2_theme_normal[aria-disabled=true] .button2__text {\n    opacity: .5\n}\n\n.button2_view_classic.button2_theme_normal:before {\n    -webkit-transition: .1s ease-out;\n    transition: .1s ease-out;\n    -webkit-transition-property: border-color,border-width,background-color;\n    transition-property: border-color,border-width,background-color\n}\n\n.button2_view_classic.button2_theme_normal.button2_hovered_yes:before,.button2_view_classic.button2_theme_normal:not([aria-disabled=true]):hover:before {\n    border-color: rgba(0,0,0,.3)\n}\n\n.button2_view_classic.button2_theme_normal.button2_checked_yes.button2_hovered_yes:before,.button2_view_classic.button2_theme_normal.button2_checked_yes:not([aria-disabled=true]):hover:before {\n    border-color: rgba(129,103,0,.6)\n}\n\n.button2_size_s {\n    height: 28px;\n    font-size: 13px;\n    line-height: 28px\n}\n\n.button2_size_s .button2__text {\n    margin: 0 13px\n}\n\n.button2_size_s .button2__icon {\n    width: 28px\n}\n\n.button2_size_s .button2__icon.icon_type_arrow {\n    width: 31px\n}\n\n.button2_size_s .button2__icon_side_left~.button2__text {\n    margin-left: 25px\n}\n\n.button2_size_s .button2__icon_side_right~.button2__text {\n    margin-right: 25px\n}\n\n.button2_size_n {\n    height: 36px;\n    font-size: 13px;\n    line-height: 36px\n}\n\n.button2_size_n .button2__text {\n    margin: 0 20px\n}\n\n.button2_size_n .button2__icon {\n    width: 36px\n}\n\n.button2_size_n .button2__icon.icon_type_arrow {\n    width: 39px\n}\n\n.button2_size_n .button2__icon_side_left~.button2__text {\n    margin-left: 33px\n}\n\n.button2_size_n .button2__icon_side_right~.button2__text {\n    margin-right: 33px\n}\n\n.button2_size_m {\n    height: 32px;\n    font-size: 15px;\n    line-height: 32px\n}\n\n.button2_size_m .button2__text {\n    margin: 0 15px\n}\n\n.button2_size_m .button2__icon {\n    width: 32px\n}\n\n.button2_size_m .button2__icon.icon_type_arrow {\n    width: 35px\n}\n\n.button2_size_m .button2__icon_side_left~.button2__text {\n    margin-left: 29px\n}\n\n.button2_size_m .button2__icon_side_right~.button2__text {\n    margin-right: 29px\n}\n\n@-webkit-keyframes button2-action-progress {\n    0% {\n        background-position: -12px 0\n    }\n\n    to {\n        background-position: 0 0\n    }\n}\n\n@keyframes button2-action-progress {\n    0% {\n        background-position: -12px 0\n    }\n\n    to {\n        background-position: 0 0\n    }\n}\n\n.button2_baseline_yes.button2_width_auto .button2__text,.button2_baseline_yes.button2_width_max .button2__text {\n    overflow: -moz-hidden-unscrollable\n}\n\n.button2.button2_pale_yes .button2__icon,.button2.button2_pale_yes .button2__text {\n    opacity: .2\n}\n\n.button2_size_head {\n    font-size: 13px;\n    line-height: 36px\n}\n\n.button2_size_head .button2__text {\n    margin: 0 13px\n}\n\n.button2_size_head .button2__icon {\n    width: 36px\n}\n\n.button2_size_head .button2__icon_side_left~.button2__text {\n    margin-left: 33px\n}\n\n.button2_size_head .button2__icon_side_right~.button2__text {\n    margin-right: 33px\n}\n\n.button2_size_l {\n    height: 38px;\n    font-size: 18px;\n    line-height: 38px\n}\n\n.button2_size_l .button2__text {\n    margin: 0 18px\n}\n\n.button2_size_l .button2__icon,.button2_size_l .button2__icon.icon_type_arrow {\n    width: 38px\n}\n\n.button2_size_l .button2__icon_side_left~.button2__text {\n    margin-left: 35px\n}\n\n.button2_size_l .button2__icon_side_right~.button2__text {\n    margin-right: 35px\n}\n\n.button2_size_ns {\n    height: 24px;\n    font-size: 11px;\n    line-height: 24px\n}\n\n.button2_size_ns .button2__text {\n    margin: 0 13px\n}\n\n.button2_size_ns .button2__icon {\n    width: 24px\n}\n\n.button2_size_ns .button2__icon.icon_type_arrow {\n    width: 27px\n}\n\n.button2_size_ns .button2__icon_side_left~.button2__text {\n    margin-left: 22px\n}\n\n.button2_size_ns .button2__icon_side_right~.button2__text {\n    margin-right: 22px\n}\n\n.button2_size_xs {\n    height: 24px;\n    font-size: 13px;\n    line-height: 24px\n}\n\n.button2_size_xs .button2__text {\n    margin: 0 10px\n}\n\n.button2_size_xs .button2__icon {\n    width: 24px\n}\n\n.button2_size_xs .button2__icon.icon_type_arrow {\n    width: 27px\n}\n\n.button2_size_xs .button2__icon_side_left~.button2__text {\n    margin-left: 22px\n}\n\n.button2_size_xs .button2__icon_side_right~.button2__text {\n    margin-right: 22px\n}\n\n.button2_theme_action {\n    position: relative;\n    z-index: 0;\n    color: #000;\n    border: none;\n    outline: none\n}\n\n.button2_view_classic.button2_theme_action:before {\n    border-radius: 3px;\n    background-color: #ffdb4d\n}\n\n.button2_view_classic.button2.button2_theme_action.button2_pressed_yes[class]:before,.button2_view_classic.button2.button2_theme_action:not([aria-disabled=true]):active:before {\n    background-color: #fc0\n}\n\n.button2_view_classic.button2_theme_action.button2_disabled_yes:before,.button2_view_classic.button2_theme_action[aria-disabled=true]:before {\n    background-color: rgba(0,0,0,.08)\n}\n\n.button2_theme_action.button2_disabled_yes .button2__icon,.button2_theme_action.button2_disabled_yes .button2__text,.button2_theme_action[aria-disabled=true] .button2__icon,.button2_theme_action[aria-disabled=true] .button2__text {\n    opacity: .5\n}\n\n.button2_view_classic.button2_theme_action.button2_progress_yes:before {\n    background-color: #ffd426;\n    background-image: repeating-linear-gradient(-45deg,#ffd426,#ffd426 4px,#f7c600 0,#f7c600 8px);\n    background-size: 34px 34px\n}\n\n.button2.button2_theme_action.button2_progress_yes .button2__icon,.button2.button2_theme_action.button2_progress_yes .button2__text {\n    opacity: 1\n}\n\n@-webkit-keyframes button2-progress {\n    0% {\n        background-position: -12px 0\n    }\n\n    to {\n        background-position: 0 0\n    }\n}\n\n@keyframes button2-progress {\n    0% {\n        background-position: -12px 0\n    }\n\n    to {\n        background-position: 0 0\n    }\n}\n\n.button2.button2_theme_action.button2_progress_yes:before {\n    -webkit-animation-name: button2-progress;\n    animation-name: button2-progress;\n    -webkit-animation-duration: .5s;\n    animation-duration: .5s;\n    -webkit-animation-timing-function: linear;\n    animation-timing-function: linear;\n    -webkit-animation-iteration-count: infinite;\n    animation-iteration-count: infinite\n}\n\n.button2_view_classic.button2_theme_action:before {\n    -webkit-transition: background-color .1s ease-out 0s;\n    transition: background-color .1s ease-out 0s\n}\n\n.button2_view_classic.button2_theme_action.button2_hovered_yes:before,.button2_view_classic.button2_theme_action:not([aria-disabled=true]):hover:before {\n    background-color: #ffd633\n}\n\n@-webkit-keyframes button2-action-focus {\n    0%,to {\n        background-color: #fc0\n    }\n\n    40%,60% {\n        background-color: #ffe066\n    }\n}\n\n@keyframes button2-action-focus {\n    0%,to {\n        background-color: #fc0\n    }\n\n    40%,60% {\n        background-color: #ffe066\n    }\n}\n\n.button2_theme_clear {\n    position: relative;\n    z-index: 0;\n    color: #000;\n    border: none;\n    outline: none\n}\n\n.button2_view_classic.button2_theme_clear:before {\n    border-radius: 3px\n}\n\n.button2_theme_clear .button2__icon,.button2_theme_clear .button2__text {\n    opacity: .3\n}\n\n.button2.button2_theme_clear.button2_checked_yes:not(.button2_disabled_yes) .button2__icon,.button2.button2_theme_clear.button2_checked_yes:not(.button2_disabled_yes) .button2__text,.button2.button2_theme_clear.button2_checked_yes:not([aria-disabled=true]) .button2__icon,.button2.button2_theme_clear.button2_checked_yes:not([aria-disabled=true]) .button2__text {\n    opacity: .8\n}\n\n.button2_view_classic.button2_theme_clear.button2_checked_yes.button2_pressed_yes:before,.button2_view_classic.button2_theme_clear.button2_checked_yes:not([aria-disabled=true]):active:before {\n    background-color: transparent\n}\n\n.button2_view_classic.button2_theme_clear.button2_disabled_yes:before,.button2_view_classic.button2_theme_clear[aria-disabled=true]:before {\n    background-color: rgba(0,0,0,.08)\n}\n\n.button2_view_classic.button2_theme_clear.button2_disabled_yes.button2_checked_yes:before,.button2_view_classic.button2_theme_clear[aria-disabled=true].button2_checked_yes:before {\n    background-color: rgba(0,0,0,.15)\n}\n\n.button2_view_classic.button2_theme_clear:before {\n    -webkit-transition: background-color .1s ease-out;\n    transition: background-color .1s ease-out\n}\n\n.button2_theme_clear .button2__icon,.button2_theme_clear .button2__text {\n    -webkit-transition: opacity .1s ease-out;\n    transition: opacity .1s ease-out\n}\n\n.button2_theme_clear.button2_hovered_yes .button2__icon,.button2_theme_clear.button2_hovered_yes .button2__text,.button2_theme_clear:not([aria-disabled=true]):hover .button2__icon,.button2_theme_clear:not([aria-disabled=true]):hover .button2__text {\n    opacity: .8\n}\n\n.button2_theme_link {\n    position: relative;\n    z-index: 0;\n    color: #04b;\n    border: none;\n    outline: none;\n    background: transparent\n}\n\n.button2_theme_pseudo {\n    position: relative;\n    z-index: 0;\n    color: #000;\n    border: none;\n    outline: none\n}\n\n.button2_view_classic.button2_theme_pseudo:before {\n    border: 1px solid rgba(0,0,0,.2);\n    border-radius: 3px;\n    background-color: transparent;\n    background-clip: padding-box\n}\n\n.button2_view_classic.button2_theme_pseudo.button2_pressed_yes:before,.button2_view_classic.button2_theme_pseudo:not([aria-disabled=true]):active:before {\n    background-color: rgba(0,0,0,.05)\n}\n\n.button2_view_classic.button2_theme_pseudo.button2_checked_yes:before {\n    border-color: rgba(153,122,0,.5);\n    background-color: #ffeba0\n}\n\n.button2_view_classic.button2_theme_pseudo.button2_checked_yes.button2_pressed_yes:before,.button2_view_classic.button2_theme_pseudo.button2_checked_yes:not([aria-disabled=true]):active:before {\n    border-color: rgba(129,103,0,.6);\n    background-color: #fee481\n}\n\n.button2_view_classic.button2_theme_pseudo.button2_disabled_yes:before,.button2_view_classic.button2_theme_pseudo[aria-disabled=true]:before {\n    border-color: rgba(0,0,0,.08);\n    background-color: rgba(0,0,0,.08)\n}\n\n.button2_view_classic.button2_theme_pseudo.button2_disabled_yes.button2_checked_yes:before,.button2_view_classic.button2_theme_pseudo[aria-disabled=true].button2_checked_yes:before {\n    border-color: rgba(0,0,0,.15);\n    background-color: rgba(0,0,0,.15)\n}\n\n.button2_theme_pseudo.button2_disabled_yes .button2__icon,.button2_theme_pseudo.button2_disabled_yes .button2__text,.button2_theme_pseudo[aria-disabled=true] .button2__icon,.button2_theme_pseudo[aria-disabled=true] .button2__text {\n    opacity: .5\n}\n\n.button2_view_classic.button2_theme_pseudo:before {\n    -webkit-transition: .1s ease-out;\n    transition: .1s ease-out;\n    -webkit-transition-property: border-color,border-width,background-color;\n    transition-property: border-color,border-width,background-color\n}\n\n.button2_view_classic.button2_theme_pseudo.button2_hovered_yes:before,.button2_view_classic.button2_theme_pseudo:not([aria-disabled=true]):hover:before {\n    border-color: rgba(0,0,0,.3)\n}\n\n.button2_view_classic.button2_theme_pseudo.button2_checked_yes.button2_hovered_yes:before,.button2_view_classic.button2_theme_pseudo.button2_checked_yes:not([aria-disabled=true]):hover:before {\n    border-color: rgba(118,94,0,.65)\n}\n\n.button2_theme_raised {\n    position: relative;\n    z-index: 0;\n    color: #000;\n    border: none;\n    outline: none;\n    background: transparent\n}\n\n.button2_theme_raised:before {\n    background-color: #fff\n}\n\n.button2_theme_raised.button2_hovered_yes:before,.button2_theme_raised:not([aria-disabled=true]):hover:before {\n    background-color: #eee\n}\n\n.button2_theme_raised.button2_disabled_yes,.button2_theme_raised[aria-disabled=true] {\n    opacity: .75\n}\n\n.button2_theme_raised:before {\n    -webkit-box-shadow: 0 0 0 1px rgba(0,0,0,.05),0 1px 0 1px rgba(0,0,0,.05),0 4px 6px 0 rgba(0,0,0,.05);\n    box-shadow: 0 0 0 1px rgba(0,0,0,.05),0 1px 0 1px rgba(0,0,0,.05),0 4px 6px 0 rgba(0,0,0,.05)\n}\n\n.button2_theme_raised.button2_pressed_yes:before,.button2_theme_raised:not([aria-disabled=true]):active:before {\n    -webkit-box-shadow: 0 1px 1px 0 rgba(0,0,0,.1),0 1px 1px 0 rgba(0,0,0,.1),0 1px 2px 0 rgba(0,0,0,.1);\n    box-shadow: 0 1px 1px 0 rgba(0,0,0,.1),0 1px 1px 0 rgba(0,0,0,.1),0 1px 2px 0 rgba(0,0,0,.1)\n}\n\n.button2_width_auto {\n    max-width: 100%\n}\n\n.button2_width_auto .button2__text {\n    display: block;\n    overflow: hidden;\n    text-overflow: ellipsis\n}\n\n.button2_width_max {\n    width: 100%\n}\n\n.button2_width_max.button2_type_link {\n    display: block\n}\n\n.button2_width_max .button2__text {\n    display: block;\n    overflow: hidden;\n    text-overflow: ellipsis\n}\n'},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var o=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._id=t,this._src=n}return r(e,[{key:"getFrame",value:function(){return document.getElementById(this._id)}},{key:"createFrame",value:function(){var e=this.getFrame();return e||((e=document.createElement("iframe")).setAttribute("id",this._id),e.setAttribute("name",this._id),e.setAttribute("style","position: absolute; width: 1px; height: 1px; opacity: 0;"),e.setAttribute("src",this._src),document.documentElement.appendChild(e)),e}},{key:"destroyFrame",value:function(){var e=this.getFrame();e&&e.parentElement.removeChild(e)}},{key:"onFrameLoad",value:function(){var e=this;return new Promise(function(t,n){var r=e.createFrame();function o(){a(),r.dataset.helperLoaded="true",t(r)}function i(){a(),r.dataset.helperLoaded="false",n(new Error("Can't load frame ("+r.getAttribute("src")+")"))}function a(){r.removeEventListener("load",o),r.removeEventListener("error",i)}"true"===r.dataset.helperLoaded?t(r):"false"===r.dataset.helperLoaded?n(new Error("Can't load frame ("+r.getAttribute("src")+")")):(r.addEventListener("load",o),r.addEventListener("error",i))})}}]),e}();t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=w(n(170)),a=w(n(174)),s=w(n(175)),u=n(176),c=n(177),l=w(n(4)),d=n(2),f=n(32),p=w(n(1)),h=w(n(55)),_=w(n(10)),m=n(51),v=w(n(53)),b=w(n(14)),y=w(n(34)),g=w(n(15));function w(e){return e&&e.__esModule?e:{default:e}}var x=(0,d.getAppId)(),k=function(){var e="https://dex.ru/games/sdk/payments/trust-redirect.html";return e=(0,d.appendOriginParam)(e),e=(0,d.replaceSDKHost)(e)}(),S=l.default.isMobile()||l.default.isTablet()?"mobile":"desktop",P=p.default.Symbol("CatalogData"),E=p.default.Symbol("PurchaseDialog"),O=p.default.Symbol("PurchasePromise"),T=p.default.Symbol("ConfigPromise"),I=p.default.Symbol("MetrikaLogAuth"),A=[0,5,10,20,40,60,90,120,200,300,400,1/0];var j=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this[P]={data:null,time:0},this[E]=null,this[O]=null,this[T]=t,this[I]={}}return o(e,[{key:"getCatalog",value:function(){var e=this;return new Promise(function(t,n){Math.abs(e[P].time-Date.now())<6e4?t(e[P].data):(0,u.fetchData)("products").then(function(n){e[P]={data:n.map(function(e){return new a.default(e)}),time:Date.now()},t(e[P].data)}).catch(function(e){console.error(e),n(e)})})}},{key:"purchase",value:function(e){"object"!==(void 0===e?"undefined":r(e))&&(e={id:e});var t=e.developerPayload;if(t){if("string"!=typeof t)throw new Error("developerPayload must be a string")}else e.developerPayload="";return this._openPurchaseDialog(e),this[O].promise}},{key:"getPurchases",value:function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).signed,t=void 0!==e&&e;return t=t||this[T].signed,new Promise(function(e,n){(0,u.fetchData)("purchased"+(t?"-signed":"")).then(function(t){var n=(0,f.convertResponse)(t),r=n.data,o=n.signature,i=r.map(function(e){return new s.default({productID:e.product.id,purchaseToken:e.token,developerPayload:e.developerPayload})});(0,f.defineSignatureProp)(i,o),e(i)}).catch(n)})}},{key:"consumePurchase",value:function(e){return new Promise(function(t,n){(0,u.postData)("consume",{token:e}).then(function(e){if(!e||!e.token)throw new g.default({code:"CANNOT_CONSUME_PURCHASE",message:"Can not consume purchase."});t(!0)}).catch(function(e){console.error(e),n(e)})})}},{key:"_openPurchaseDialog",value:function(e){var t=this;this._rejectPurchasePromise("Another purchase opening"),this._closePurchaseDialog(),this[E]=new i.default({platform:S});var n=null,r=null,o=new Promise(function(o,i){n=o,r=i;var a=Date.now(),u={},c=function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=Object.assign({state:n,appId:x,productId:e.id,title:u.title,price:u.price},r);["success","cancel","fail"].includes(n)&&(o.timeInterval=function(e){for(var t=0;t<A.length-1;t+=1)if(e>=A[t]&&e<A[t+1])return A[t+1]===1/0?A[t]+"+":A[t]+"-"+A[t+1]}(Math.abs(Date.now()-a)/1e3),l.call(t)),_.default.sendParams({purchase:o})};function l(){Object.keys(this[I]).forEach(function(e){return c(e)}),this[I]={}}c("open"),Promise.race([t[E].open(),t._getPaymentURL(e)]).then(function(e){var r=e.product,o=e.url,i=e.token;return u=r,c("show"),t[E].show(r,o).then(function(){return t._checkPurchaseStatus(i).then(function(e){var r=e.data,o=e.signature,i=t[I];i&&i.authSuccess&&(i.authSuccessPurchase=Date.now()),c("success"),_.default.sendParams({goal:m.goals.SUCCESS_PURCHASE.replace("%app_id%",x)});var a=new s.default({productID:r.product.id,purchaseToken:r.token,developerPayload:r.developerPayload});(0,f.defineSignatureProp)(a,o),n(a),t._closePurchaseDialog()})})}).catch(function(e){r(e),e instanceof g.default&&"PAYMENT_USER_CANCELED"===e.code?c("cancel",{reason:e.message}):c("fail",{reason:e.message}),e instanceof b.default?t._closePurchaseDialog():t[E].onError(e)})});this[O]={promise:o,resolve:n,reject:r}}},{key:"_closePurchaseDialog",value:function(){this[E]&&(this[E].close(),this[E]=null)}},{key:"_rejectPurchasePromise",value:function(e){this[O]&&(this[O].reject(new Error(e)),this[O]=null)}},{key:"_getPaymentURL",value:function(e){return new Promise(function(t,n){(0,u.postData)("create",{productId:e.id,developerPayload:e.developerPayload,developerPayloadOverride:c.developerPayloadOverride,platform:S,redirect:k}).then(function(e){e&&e.product&&e.url&&e.token?t({product:new a.default(e.product),url:e.url,token:e.token}):n(new g.default({code:"PAYMENT_FAILURE",message:"Can not get payment URL."}))}).catch(n)})}},{key:"_checkPurchaseStatus",value:function(e){var t=this,n=20,r=15e3,o=1e3,i=0;return new Promise(function(a,s){var c="active/get-status"+(t[T].signed?"-signed":"");function l(){(0,u.fetchData)(c,{token:e}).then(function(e){var t=(0,f.convertResponse)(e),n=t.data,r=t.signature,o=(n||{}).status;"success"===o?a({data:n,signature:r}):"failure"===o?s(new g.default({code:"PAYMENT_FAILURE",message:"Failure payment status."})):d()}).catch(d)}function d(){i+=1,o=Math.min(1.5*o,r),i<n?setTimeout(l,o):s(new g.default({code:"PAYMENT_FAILURE",message:"Can not get payment status."}))}l()})}}]),e}();var M=!0,C=!1,D=void 0;try{for(var R,z=function(){var e=R.value,t=j.prototype[e];j.prototype[e]=function(){for(var e=this,n=arguments.length,r=Array(n),o=0;o<n;o++)r[o]=arguments[o];var i=t.bind(this);return new Promise(function(t,n){e[I]={},i.apply(void 0,r).then(t).catch(function(o){!function(e){return e instanceof g.default&&"UNAUTHORIZED"===e.code||e instanceof y.default&&"UNAUTHORIZED"===e.code||e instanceof b.default}(o)?n(o):(e[I].authOpen=Date.now(),v.default.openAuthDialog().then(function(){e[I].authSuccess=Date.now(),i.apply(void 0,r).then(t).catch(n)}).catch(function(t){e[I].authCancel=Date.now(),n(t)}))})})}},N=["consumePurchase","_getPaymentURL"][Symbol.iterator]();!(M=(R=N.next()).done);M=!0)z()}catch(e){C=!0,D=e}finally{try{!M&&N.return&&N.return()}finally{if(C)throw D}}t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!h.default.isDialogSupport())return Promise.reject(new Error("Unsupported browser"));var t=new j(e);return new Promise(function(e,n){t.getCatalog().then(function(){return e(t)}).catch(n)})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(n(171)),o=a(n(173)),i=n(0);function a(e){return e&&e.__esModule?e:{default:e}}t.default=i.IS_FRAMED?o.default:r.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=(a(n(56)),a(n(15))),i=a(n(1));function a(e){return e&&e.__esModule?e:{default:e}}var s=i.default.Symbol("OpenPromise"),u=i.default.Symbol("DialogElement");var c=function(){function e(t){var n=t.platform;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._platform=n,this[s]=null,this[u]=null}return r(e,[{key:"open",value:function(){return this[u]=document.createElement("purchase-dialog"),this[u].setAttribute("platform",this._platform),this[u].setAttribute("loading","true"),this[u].setAttribute("size","normal"),document.body.appendChild(this[u]),this[u].addEventListener("close",this),this._addEventListener(),this._setPromise(),this[s].promise}},{key:"show",value:function(e,t){return this._product=e,this._url=t,this[u]&&this[u].setAttribute("loading","false"),this._updateProductInfo(),this[s].promise}},{key:"onError",value:function(e){if(this[u]){this[u].setAttribute("loading","false");var t=e&&e.code||"UNKNOWN";this[u].setAttribute("error","true"),this[u].setAttribute("errorCode",t)}}},{key:"_updateProductInfo",value:function(){this[u]&&(this[u].setAttribute("price",this._product.price),this[u].setAttribute("title",this._product.title),this[u].setAttribute("description",this._product.description),this[u].setAttribute("image",this._product.imageURI),this[u].setAttribute("url",this._url))}},{key:"_setSize",value:function(e){this[u]&&this[u].setAttribute("size",e)}},{key:"_setPromise",value:function(){if(!this[s]){var e=null,t=null,n=new Promise(function(n,r){e=n,t=r});this[s]={promise:n,resolve:e,reject:t}}return this[s]}},{key:"_resolvePromise",value:function(e){this[s]&&(this[s].resolve(e),this[s]=null)}},{key:"_rejectPromise",value:function(e){this[s]&&(this[s].reject(e),this[s]=null)}},{key:"close",value:function(){this._removeEventListener();var e=this[u];e&&(e.removeEventListener("close",this),e.parentNode.removeChild(e),this[u]=null,e.isFakePurchase())?this._resolvePromise("payment-success"):this._rejectPromise(new o.default({code:"PAYMENT_USER_CANCELED",message:"User canceled the order."}))}},{key:"pendingClose",value:function(){var e=this;setTimeout(function(){return e.close()},1e3)}},{key:"_addEventListener",value:function(){window.addEventListener("message",this)}},{key:"_removeEventListener",value:function(){window.removeEventListener("message",this)}},{key:"handleEvent",value:function(e){"close"!==e.type||e.target!==this[u]?function(e){return!!function(e){return/^https:\/\/([^.]+\.)*yandex\.(ru|by|kz|uk|uz|com|com\.tr)(:\d+)?$/.test(e)}(e.origin)&&!(!e.data||"YandexTrustPaymentForm"!==e.data.source)}(e)&&this._handleTrustEvent(e):this.close()}},{key:"_handleTrustEvent",value:function(e){var t=e.data,n=t.type,r=t.data,i=void 0===r?{}:r;switch(console.info("Handle trust event '"+n+"'"),console.info(JSON.stringify(e.data,null,"\t")),n){case"payment-status":"success"===i.value&&this._resolvePromise("payment-success");break;case"payment-check-failure":this._rejectPromise(new o.default({code:"PAYMENT_FAILURE",message:"Payment check failure."}));break;case"payment-update-failure":this._rejectPromise(new o.default({code:"PAYMENT_FAILURE",message:"Payment update failure."}));break;case"payment-fail":var a=new o.default({code:"PAYMENT_FAILURE",message:"Payment fail."});this._rejectPromise(a),this.close();break;case"payment-timeout":var s=new o.default({code:"PAYMENT_TIMEOUT",message:"Payment timeout."});this._rejectPromise(s),this.onError(s);break;case"3ds-status":"3ds-started"===i?this._on3dsStarted():"3ds-success"===i?this._resolvePromise("payment-success"):"3ds-failure"===i&&(this._rejectPromise(new o.default({code:"PAYMENT_FAILURE",message:"Payment 3ds failure."})),this.pendingClose());break;case"redirect-callback":this.pendingClose()}}},{key:"_on3dsStarted",value:function(){this._setSize("large")}}]),e}();t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=document.createElement("template");return t.innerHTML="\n<style>\n    @font-face {\n        font-family: 'YS Text';\n        font-weight: normal;\n        font-style: normal;\n\n        src: url('https://yastatic.net/islands/_/KRBKbh7904nwfw8-FzDelXRpZ9o.woff2') format('woff2');\n    }\n\n    @font-face {\n        font-family: 'YS Text';\n        font-weight: 500;\n        font-style: normal;\n        font-stretch: normal;\n\n        src: url('https://yastatic.net/islands/_/_Ocpq376VVJdR5aDIq4WkfWF6Gg.woff2') format('woff2');\n    }\n\n    @font-face {\n        font-family: 'YS Text';\n        font-weight: bold;\n        font-style: normal;\n\n        src: url('https://yastatic.net/islands/_/TR2STky64Ra69XlYzqKN7cnjYfQ.woff2') format('woff2');\n    }\n\n    :host {\n        position: fixed;\n        top: 0;\n        bottom: 0;\n        left: 0;\n        right: 0;\n\n        display: flex;\n        justify-content: center;\n        flex-direction: column;\n        align-items: center;\n\n        background: rgba(256,256,256,0.95);\n\n        font-family: 'YS Text', Helvetica, Arial, sans-serif;\n        font-size: 18px;\n        line-height: 24px;\n    }\n\n    .content {\n        box-shadow: 0 8px 14px rgba(14, 21, 47, .1),\n                0 2px 36px rgba(14, 21, 47, .08);\n\n        display: flex;\n        flex-direction: column;\n\n        color: #000;\n        background-color: #fff;\n        position: relative;\n    }\n\n    .error_header,\n    .error_text {\n        font-weight: normal;\n    }\n\n    .header {\n        display: flex;\n        flex-direction: row;\n\n        border-bottom: 2px solid #ededed;\n    }\n\n    .footer {\n        padding: 2px 15px;\n\n        color: #999;\n        background: #333;\n\n        font-size: 14px;\n    }\n\n    .support {\n        margin-left: 36px;\n    }\n\n    .support__link {\n        text-decoration: none;\n        color: inherit;\n    }\n\n    .cross {\n        position: absolute;\n        top: 0;\n        right: 0;\n\n        color: #999;\n    }\n\n    .cross:hover {\n        color: #000;\n    }\n\n    .cross svg {\n        fill: currentColor;\n        position: absolute;\n        top: 50%;\n        left: 50%;\n        transform: translate(-50%, -50%);\n    }\n\n    .image-wrapper {\n        border: 1px solid rgba(0, 0, 0, 0.2);\n        border-radius: 18px;\n        box-sizing: border-box;\n        overflow: hidden;\n\n        display: flex;\n        justify-content: center;\n        flex-direction: column;\n        align-items: center;\n    }\n\n    .image-wrapper.animated-background {\n        background-size: 800px 200px !important;\n    }\n\n    .details-wrapper {\n        flex: 1;\n        overflow: hidden;\n    }\n\n    .subtitle {\n        color: #999;\n        padding-left: 1px;\n    }\n\n    .price {\n        text-align: right;\n        margin-left: 1.2em;\n\n        float: right;\n    }\n\n    .title {\n        white-space: nowrap;\n        overflow: hidden;\n        text-overflow: ellipsis;\n    }\n\n    .separator {\n        opacity: 0.1;\n        border-bottom: 1px solid #000;\n        height: 0;\n    }\n\n    .description {\n        padding-left: 1px;\n        overflow: hidden;\n        display: -webkit-box;\n        -webkit-line-clamp: 3;\n        -webkit-box-orient: vertical;\n    }\n\n    .frame-wrapper {\n        flex: 1;\n\n        display: flex;\n        flex-direction: column;\n        position: relative;\n    }\n\n    .frame {\n        border: none;\n        flex: 1;\n        display: none;\n    }\n\n    .frame-wrapper_state-ready .frame {\n        display: block;\n    }\n\n    .frame-wrapper_state-ready .spinner-wrapper {\n        display: none;\n    }\n\n    .spinner-wrapper {\n        position: absolute;\n        top: 0;\n        bottom: 0;\n        left: 0;\n        right: 0;\n\n        display: flex;\n        justify-content: center;\n        flex-direction: column;\n        text-align: center;\n        align-items: center;\n    }\n\n    .spinner_text {\n        padding-top: 10px;\n    }\n\n    @keyframes spinner {\n        from {\n            transform: rotate(0deg);\n        }\n        to {\n            transform: rotate(360deg);\n        }\n    }\n\n    .spinner {\n        display: inline-block;\n        text-align: center;\n        padding: 0;\n        margin: 0;\n        position: relative;\n    }\n\n    .spinner__inner {\n        width: 100%;\n        height: 100%;\n        display: block;\n        padding: 0;\n        margin: 0;\n        position: absolute;\n        top: 0;\n        left: 0;\n        animation-name: spinner;\n        animation-duration: 1s;\n        animation-iteration-count: infinite;\n        animation-timing-function: linear;\n    }\n\n    .spinner__inner-inner {\n        width: 100%;\n        height: 100%;\n        display: block;\n        overflow: hidden;\n        padding: 0;\n        margin: 0;\n        position: absolute;\n        top: 0;\n        left: 50%;\n    }\n\n    .spinner__inner-inner:after {\n        content: '';\n        width: 100%;\n        height: 100%;\n        display: block;\n        border-radius: 100%;\n        border: 2px solid #FC0;\n        box-sizing: border-box;\n        padding: 0;\n        margin: 0;\n        position: absolute;\n        top: 0;\n        left: -50%;\n    }\n\n    .spinner_size-xs {\n        line-height: 16px;\n        width: 16px;\n        height: 16px;\n    }\n\n    .spinner_size-s {\n        line-height: 24px;\n        width: 24px;\n        height: 24px;\n    }\n\n    .spinner,\n    .spinner_size-m {\n        line-height: 28px;\n        width: 28px;\n        height: 28px;\n    }\n\n    .spinner_size-l {\n        line-height: 32px;\n        width: 32px;\n        height: 32px;\n    }\n\n    .spinner_size-xl {\n        line-height: 38px;\n        width: 38px;\n        height: 38px;\n    }\n\n    .spinner_size-xxl {\n        width: 144px;\n        height: 144px;\n    }\n\n    .error {\n        display: none;\n        background-color: #fff;\n    }\n\n    :host([error=\"true\"]) .error {\n        position: absolute;\n        top: 0;\n        bottom: 0;\n        left: 0;\n        right: 0;\n\n        display: flex;\n        justify-content: center;\n        flex-direction: column;\n        text-align: center;\n        align-items: center;\n    }\n\n    .error_text {\n        display: none;\n    }\n\n    :host([errorCode=\"UNAUTHORIZED\"]) .error_text_code_UNAUTHORIZED,\n    :host([errorCode=\"PAYMENT_TIMEOUT\"]) .error_text_code_PAYMENT_TIMEOUT,\n    :host([errorCode=\"REQUEST_FAILURE\"]) .error_text_code_REQUEST_FAILURE,\n    :host([errorCode=\"UNKNOWN\"]) .error_text_code_UNKNOWN {\n        display: block;\n    }\n\n    @keyframes animatedBackground {\n        0%{\n            background-position: -2000px 0\n        }\n        100%{\n            background-position: 2000px 0\n        }\n    }\n\n    :host([loading=\"true\"]) .animated-background {\n        animation-duration: 8s;\n        animation-fill-mode: forwards;\n        animation-iteration-count: infinite;\n        animation-name: animatedBackground;\n        animation-timing-function: linear;\n        background: rgb(248, 248, 248);\n        background: linear-gradient(to right, #f0f0f0 8%, #e0e0e0 18%, #f0f0f0 33%);\n        background-size: 800px 24px;\n        background-repeat: repeat-x;\n    }\n\n    "+("desktop"===e?'\n    .content {\n        width: 80%;\n        min-width: 745px;\n        max-width: 1000px;\n        height: 65%;\n        min-height: 640px;\n\n        font-size: 26px;\n        line-height: 30px;\n    }\n\n    :host([size="large"]) .content {\n        height: 94%;\n        transition: height 0.5s ease-in;\n    }\n\n    .error_header {\n        font-size: 26px;\n        line-height: 30px;\n    }\n\n    .error_text {\n        font-size: 16px;\n        line-height: 22px;\n    }\n\n    .spinner_text {\n        font-size: 16px;\n        line-height: 22px;\n    }\n\n    .header {\n        padding: 44px 44px 42px 44px;\n    }\n\n    .cross {\n        width: 40px;\n        height: 40px;\n    }\n\n    .cross svg {\n        width: 20px;\n        height: 20px;\n    }\n\n    .image-wrapper {\n        width: 144px;\n        height: 144px;\n        min-width: 144px;\n        min-height: 144px;\n        margin-right: 22px;\n    }\n\n    .image-wrapper > img {\n        max-width: 144px;\n        max-height: 144px;\n    }\n\n    .subtitle {\n        font-size: 18px;\n        line-height: 21px;\n        margin-top: -4px;\n        margin-bottom: 12px;\n    }\n\n    .separator {\n        margin: 8px 0px 9px 2px;\n    }\n\n    .description {\n        font-size: 18px;\n        line-height: 24px;\n        margin-top: 6px;\n        max-height: 72px;\n    }\n':"\n    .content {\n        width: 96%;\n        min-width: 340px;\n        height: 90%;\n\n        font-size: 13px;\n        line-height: 15px;\n    }\n\n    .error_header {\n        font-size: 13px;\n        line-height: 15px;\n    }\n\n    .error_text {\n        font-size: 11px;\n        line-height: 14px;\n    }\n\n    .spinner_text {\n        font-size: 13px;\n        line-height: 15px;\n    }\n\n    .header {\n        padding: 20px 20px 37px 20px;\n    }\n\n    .cross {\n        width: 28px;\n        height: 28px;\n    }\n\n    .cross svg {\n        width: 14px;\n        height: 14px;\n    }\n\n    .image-wrapper {\n        width: 66px;\n        height: 66px;\n        min-width: 66px;\n        min-height: 66px;\n        margin-right: 14px;\n    }\n\n    .image-wrapper > img {\n        max-width: 66px;\n        max-height: 66px;\n    }\n\n    .subtitle {\n        font-size: 11px;\n        line-height: 13px;\n        margin-top: -2px;\n        margin-bottom: 6px;\n    }\n\n    .separator {\n        margin: 6px 0 4px 0;\n    }\n\n    .description {\n        font-size: 11px;\n        line-height: 14px;\n        margin-top: 3px;\n        max-height: 42px;\n    }\n")+'\n</style>\n<div class="content">\n    <div\n        class="close cross"\n        title="Закрыть">\n            <svg focusable="false" xmlns="http://www.w3.org/2000/svg" width="0" height="0" viewBox="0 0 14 14">\n                <polygon points="14,0.7 13.3,0 7,6.3 0.7,0 0,0.7 6.3,7 0,13.3 0.7,14 7,7.7 13.3,14 14,13.3 7.7,7"></polygon>\n            </svg>\n        </div>\n    <div class="header">\n        <div class="image-wrapper">\n            <img class="image" />\n        </div>\n        <div class="details-wrapper">\n            <div class="subtitle">Покупка</div>\n            <div class="price">&#160;</div>\n            <div class="title">&#160;</div>\n            <div class="separator"></div>\n            <div class="description">&#160;</div>\n        </div>\n    </div>\n    <div class="frame-wrapper">\n        <iframe class="frame" src="about:blank"></iframe>\n        <div class="spinner-wrapper">\n            <div class="spinner spinner_size-xxl">\n                <div class="spinner__inner">\n                    <div class="spinner__inner-inner"></div>\n                </div>\n            </div>\n            <div class="spinner_text">\n                Пожалуйста, подождите\n            </div>\n        </div>\n        <div class="error">\n            <h1 class="error_header">Ошибка</h1>\n            <h3 class="error_text error_text_code_UNAUTHORIZED">Попробуйте <a href="https://'+r.PASSPORT_HOST+'/auth" target="_blank" class="close">авторизоваться</a> и повторить</h3>\n            <h3 class="error_text error_text_code_PAYMENT_TIMEOUT">Время ожидания истекло</h3>\n            <h3 class="error_text error_text_code_REQUEST_FAILURE">Ошибка запроса<br />Попробуйте повторить позже</h3>\n            <h3 class="error_text error_text_code_UNKNOWN">Попробуйте повторить позже</h3>\n        </div>\n    </div>\n    <div class="footer">\n        <span class="copyright">\n            © '+function(){var e=(new Date).getFullYear();return e>2019?"2019–"+e:"2019"}()+' ООО «Яндекс»\n        </span>\n        <span class="support">\n            <a class="support__link" href="https://forms.dex.ru/surveys/10012584/" target="_blank">Поддержка</a>\n        </span>\n    </div>\n</div>\n    ',t};var r=n(22)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=(s(n(56)),n(33)),i=s(n(1)),a=s(n(3));function s(e){return e&&e.__esModule?e:{default:e}}var u=i.default.Symbol("OpenPromise"),c=function(){function e(t){var n=t.platform;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._platform=n,this._initMessaging(),this[u]=null,a.default.postToParent({type:"payments",action:"init-purchase-dialog",data:{platform:n}})}return r(e,[{key:"_initMessaging",value:function(){var e=this;a.default.on("payments",function(){return e.onMessage.apply(e,arguments)})}},{key:"onMessage",value:function(e){var t=e.data,n=t.action,r=t.data;switch(n){case"resolve-purchase-dialog":this._resolvePromise(r);break;case"reject-purchase-dialog":this._rejectPromise((0,o.createErrorInstance)(e.data));break;default:console.error("PurchaseDialog: unknown payments action "+n)}}},{key:"open",value:function(){return this._setPromise(),a.default.postToParent({type:"payments",action:"open-purchase-dialog"}),this[u].promise}},{key:"show",value:function(e,t){return a.default.postToParent({type:"payments",action:"show-purchase-dialog",data:{product:e.toJSON(),url:t}}),this[u].promise}},{key:"onError",value:function(e){a.default.postToParent({type:"payments",action:"error-purchase-dialog",data:{error:JSON.stringify(e)}})}},{key:"_setPromise",value:function(){if(!this[u]){var e=null,t=null,n=new Promise(function(n,r){e=n,t=r});this[u]={promise:n,resolve:e,reject:t}}return this[u]}},{key:"_resolvePromise",value:function(e){this[u]&&(this[u].resolve(e),this[u]=null)}},{key:"_rejectPromise",value:function(e){this[u]&&(this[u].reject(e),this[u]=null)}},{key:"close",value:function(){a.default.postToParent({type:"payments",action:"close-purchase-dialog"})}}]),e}();t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var o=function(e){return e&&e.__esModule?e:{default:e}}(n(1)).default.Symbol("ProductData"),i=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this[o]=t}return r(e,[{key:"toJSON",value:function(){return{id:this.title,title:this.title,description:this.description,imageURI:this.imageURI,price:this.price,priceCurrencyCode:this.priceCurrencyCode}}},{key:"id",get:function(){return this[o].id}},{key:"title",get:function(){return this[o].title}},{key:"description",get:function(){return this[o].description}},{key:"imageURI",get:function(){return this[o].imagePrefix+"/default256x256"}},{key:"price",get:function(){var e=this[o].price,t=e.code;return e.value+("RUR"===t?" ₽":"")}},{key:"priceCurrencyCode",get:function(){return this[o].price.code}}]),e}();t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var o=function(e){return e&&e.__esModule?e:{default:e}}(n(1)).default.Symbol("PurchaseData"),i=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),"purchaseTime"in t||(t.purchaseTime=0),this[o]=t}return r(e,[{key:"productID",get:function(){return this[o].productID}},{key:"purchaseTime",get:function(){return this[o].purchaseTime}},{key:"purchaseToken",get:function(){return this[o].purchaseToken}},{key:"developerPayload",get:function(){return this[o].developerPayload}}]),e}();t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fetchData=function(e,t){return new Promise(function(n,r){var o=f(e,t);if(o){var i={credentials:"include",referrerPolicy:"no-referrer-when-downgrade"};if(s.IS_FRAMED)u.default.postToParent({type:"fetch",data:{url:o,options:i,timeout:d}}).then(function(e){var t=e.data;n(t.result)}).catch(r);else{var a=_(r);fetch(o,i).then(p).then(h).then(a.clear).then(n).catch(function(e){r(e),a.clear()})}}else r(new Error("Can not create URL"))})},t.postData=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return new Promise(function(r,o){var i=f(e,n);if(i){var a={method:"POST",credentials:"include",referrerPolicy:"no-referrer-when-downgrade",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(t)};if(s.IS_FRAMED)u.default.postToParent({type:"fetch",data:{url:i,options:a,timeout:d}}).then(function(e){r(e.data.result)}).catch(o);else{var c=_(o);fetch(i,a).then(p).then(h).then(c.clear).then(r).catch(function(e){o(e),c.clear()})}}else o(new Error("Can not create URL"))})};var r=c(n(15)),o=c(n(22)),i=n(2),a=c(n(9)),s=n(0),u=c(n(3));function c(e){return e&&e.__esModule?e:{default:e}}var l="https://games.dex.ru/api/sdk/v1/purchases/",d=6e4;function f(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,i.isDraft)()&&(t.draft=!0),Object.keys(t).forEach(function(e){void 0===t[e]&&delete t[e]});var n=(0,a.default)({url:""+l+e,params:t});return(0,i.appendApplicationIdParam)(n)}function p(e){return e.status>=200&&e.status<300?(o.default.resignOnResponseIfNeeded(e),Promise.resolve(e)):401===e.status?Promise.reject(new r.default({code:"UNAUTHORIZED",message:"Unauthorized"})):403===e.status?Promise.reject(new r.default({code:"PAYMENTS_NOT_ALLOWED",httpStatus:e.status,message:"Payments not allowed."})):Promise.reject(new r.default({code:"REQUEST_FAILURE",httpStatus:e.status,message:e.statusText}))}function h(e){if(204===e.status)return Promise.resolve();try{return e.json()}catch(e){return Promise.reject(new r.default({code:"BAD_RESPONSE",message:e.message}))}}function _(e){var t=setTimeout(function(){e(new r.default({code:"REQUEST_TIMEOUT",message:"Request timeout"}))},d);return{clear:function(){return clearTimeout(t),Promise.resolve.apply(Promise,arguments)}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=/[#&?]yam=true/.test(window.location.toString());t.developerPayloadOverride=r?JSON.stringify({blocksVisibility:{amount:!1,header:!0,ssl:!0},paymentMethods:{yam:!0}}):void 0},function(e,t,n){"use strict";function r(e){return e>64&&e<91?e-65:e>96&&e<123?e-71:e>47&&e<58?e+4:43===e?62:47===e?63:0}Object.defineProperty(t,"__esModule",{value:!0}),t.atobUTF16=function(e){return function(e){for(var t,n="",r=e.length,o=0;o<r;o++)t=e[o],n+=String.fromCharCode(t>251&&t<254&&o+5<r?1073741824*(t-252)+(e[++o]-128<<24)+(e[++o]-128<<18)+(e[++o]-128<<12)+(e[++o]-128<<6)+e[++o]-128:t>247&&t<252&&o+4<r?(t-248<<24)+(e[++o]-128<<18)+(e[++o]-128<<12)+(e[++o]-128<<6)+e[++o]-128:t>239&&t<248&&o+3<r?(t-240<<18)+(e[++o]-128<<12)+(e[++o]-128<<6)+e[++o]-128:t>223&&t<240&&o+2<r?(t-224<<12)+(e[++o]-128<<6)+e[++o]-128:t>191&&t<224&&o+1<r?(t-192<<6)+e[++o]-128:t);return n}(function(e,t){for(var n,o,i=e.replace(/[^A-Za-z0-9\+\/]/g,""),a=i.length,s=t?Math.ceil((3*a+1>>>2)/t)*t:3*a+1>>>2,u=new Uint8Array(s),c=0,l=0,d=0;d<a;d++)if(o=3&d,c|=r(i.charCodeAt(d))<<18-6*o,3===o||a-d==1){for(n=0;n<3&&l<s;n++,l++)u[l]=c>>>(16>>>n&24)&255;c=0}return u}(e))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var o=["passport.yandex","an.dex.ru","avatars.mds.yandex.net","/api/"];function i(e){var t=Cache.prototype[e];Cache.prototype[e]=function(e,n){return"GET"!==e.method||0!==e.url.indexOf("https://")||function(e){return o.some(function(t){return-1!==e.indexOf(t)})}(e.url)?Promise.resolve():("ignoreSearch"in(n=n||{})||(n.ignoreSearch=!0),t.call(this,e,n))}}var a=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return r(e,null,[{key:"overrideCacheSearch",value:function(){("function"!=typeof Cache?(console.warn("Can not find `Cache` function"),0):"function"!=typeof Cache.prototype.match?(console.warn("Can not find `Cache.match` function"),0):"function"==typeof Cache.prototype.matchAll||(console.warn("Can not find `Cache.matchAll` function"),0))&&(i("match"),i("matchAll"))}}]),e}();t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(0),i=function(e){return e&&e.__esModule?e:{default:e}}(n(3));var a=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return r(e,null,[{key:"sync",value:function(){if(o.IS_FRAMED){var t=e.getActiveIconHref();t&&i.default.postToParent({type:"favicon",action:"update",data:{href:t}})}}},{key:"getActiveIconHref",value:function(){var t=e.getActiveIcon();return t&&t.href}},{key:"getActiveIcon",value:function(){if(document.querySelector("head"))return Array.from(document.querySelectorAll("head > link[rel]")).filter(function(e){return/\bicon\b/.test(e.getAttribute("rel"))&&e.href}).pop()}}]),e}();t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.signed,n=void 0!==t&&t;return(0,r.fetchData)(n?"-signed":"").then(function(t){var n=(0,i.convertResponse)(t),r=n.data,a=n.signature,s=new o.default(r,e);return(0,i.defineSignatureProp)(s,a),s})};var r=n(57),o=function(e){return e&&e.__esModule?e:{default:e}}(n(182)),i=n(32)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=c(n(183)),a=n(57),s=c(n(1)),u=n(32);function c(e){return e&&e.__esModule?e:{default:e}}var l=s.default.Symbol("PlayerData"),d=s.default.Symbol("PlayerConfig");function f(e){var t=(0,u.convertResponse)(e),n=t.data,r=t.signature;return(0,u.defineSignatureProp)(n,r),n}function p(e,t){if(void 0===t)return e;if(!Array.isArray(t))throw new Error("`keys` must be an Array");if(-1!==t.indexOf("signature"))throw new Error('`keys` must not contains "signature" key');var n={};return t.forEach(function(t){t in e&&(n[t]=e[t])}),n}function h(e){return!(!e||"object"!==(void 0===e?"undefined":o(e)))&&Object.values(e).every(function(e){return"number"==typeof e&&!isNaN(e)})}var _=null,m=0,v=3e3;var b=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r[l]=void 0,r[d]=n,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default),r(t,[{key:"getData",value:function(e){var t=this;return void 0===this[l]?this._fetchData("/data").then(function(n){return t[l]=n,p(n,e)}):Promise.resolve(p(this[l],e))}},{key:"setData",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!function(e){return!(!e||"object"!==(void 0===e?"undefined":o(e)))}(e))return Promise.reject(new Error("Data is not valid"));this[l]=e;var n=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return new Promise(function(n,r){_&&clearTimeout(_);var o=0;if(!t){var i=Math.abs(Date.now()-m);i<v&&(o=v-i)}m=Date.now(),_=setTimeout(function(){(0,a.postData)("/data",e).then(function(){return n(!0)}).catch(r)},o)})}(e,t);return t?n:Promise.resolve(!0)}},{key:"getStats",value:function(e){return this._fetchData("/stats").then(function(t){return p(t,e)})}},{key:"setStats",value:function(e){return h(e)?(0,a.postData)("/stats",e):Promise.reject(new Error("Stats is not valid"))}},{key:"incrementStats",value:function(e){return h(e)?this._postData("/stats/increment",e):Promise.reject(new Error("Increments is not valid"))}},{key:"_fetchData",value:function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return a.fetchData.apply(void 0,[e+(this[d].signed?"-signed":"")].concat(n)).then(f)}},{key:"_postData",value:function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return a.postData.apply(void 0,[e+(this[d].signed?"-signed":"")].concat(n)).then(f)}}]),t}();t.default=b},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var o={small:"islands-retina-small",medium:"islands-retina-middle",large:"islands-200"},i=function(e){return e&&e.__esModule?e:{default:e}}(n(1)).default.Symbol("PlayerPersonalInfo"),a=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this[i]=t}return r(e,[{key:"getID",value:function(){return this[i].id}},{key:"getName",value:function(){return this[i].publicName}},{key:"getPhoto",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"medium",t=o[e];if(!t)throw new Error("Unknown size value ('"+e+"')");return"https://avatars.mds.yandex.net/get-yapic/"+this[i].avatar_id+"/"+t}}]),e}();t.default=a}]);
																																																																			   